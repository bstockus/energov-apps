CREATE PROCEDURE [professionallicense].[USP_PROFESSIONALLICENSEADDRESS_GETBYIDS]
(
 @PROFESSIONALLICENSELIST RecordIDs READONLY
)
AS
BEGIN
SELECT ILLICENSEADDRESS.ILLICENSEID,ILLICENSEADDRESS.ILLICENSEADDRESSID, MAILINGADDRESS.ADDRESSLINE1,MAILINGADDRESS.ADDRESSLINE2,MAILINGADDRESS.ADDRESSLINE3,
MAILINGADDRESS.ADDRESSTYPE,MAILINGADDRESS.ATTN,MAILINGADDRESS.CITY,MAILINGADDRESS.COMPSITE,MAILINGADDRESS.COUNTRY,
MAILINGADDRESSCOUNTRYTYPE.MAILINGADDRESSCOUNTRYTYPEID,MAILINGADDRESSCOUNTRYTYPE.MAILINGADDRESSCOUNTRYTYPENAME,
ILLICENSEADDRESS.MAIN,MAILINGADDRESS.POBOX,MAILINGADDRESS.POSTALCODE,MAILINGADDRESS.POSTDIRECTION,MAILINGADDRESS.PREDIRECTION,MAILINGADDRESS.PROVINCE,
MAILINGADDRESS.RURALROUTE,MAILINGADDRESS.STATE,MAILINGADDRESS.STATION,MAILINGADDRESS.STREETTYPE,MAILINGADDRESS.UNITORSUITE,MAILINGADDRESS.ADDRESSID
FROM ILLICENSEADDRESS 
JOIN MAILINGADDRESS ON ILLICENSEADDRESS.MAILINGADDRESSID = MAILINGADDRESS.MAILINGADDRESSID
JOIN MAILINGADDRESSCOUNTRYTYPE ON MAILINGADDRESS.COUNTRYTYPE = MAILINGADDRESSCOUNTRYTYPE.MAILINGADDRESSCOUNTRYTYPEID
JOIN @PROFESSIONALLICENSELIST PLL ON ILLICENSEADDRESS.ILLICENSEID = PLL.RECORDID
WHERE ILLICENSEADDRESS.MAIN = 1
END