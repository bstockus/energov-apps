CREATE PROCEDURE [maps].[USP_PLANPARCEL_ADDRESSES]
(
	@PARCELS RecordIDs READONLY,
	@CASEID AS CHAR(36)
)
AS 
BEGIN
SELECT 
		PLPLANADDRESS.PLPLANID,
		PLPLANADDRESS.PLPLANADDRESSID, 
		MAILINGADDRESS.ADDRESSLINE1,
		MAILINGADDRESS.ADDRESSLINE2,
		MAILINGADDRESS.ADDRESSLINE3,
		MAILINGADDRESS.ADDRESSTYPE,
		MAILINGADDRESS.ATTN,
		MAILINGADDRESS.CITY,
		MAILINGADDRESS.COMPSITE,
		MAILINGADDRESS.COUNTRY,
		MAILINGADDRESSCOUNTRYTYPE.MAILINGADDRESSCOUNTRYTYPEID,
		MAILINGADDRESSCOUNTRYTYPE.MAILINGADDRESSCOUNTRYTYPENAME,
		PLPLANADDRESS.MAIN,
		MAILINGADDRESS.POBOX,
		MAILINGADDRESS.POSTALCODE,
		MAILINGADDRESS.POSTDIRECTION,
		MAILINGADDRESS.PREDIRECTION,
		MAILINGADDRESS.PROVINCE,
		MAILINGADDRESS.RURALROUTE,
		MAILINGADDRESS.STATE,
		MAILINGADDRESS.STATION,
		MAILINGADDRESS.STREETTYPE,
		MAILINGADDRESS.UNITORSUITE,
		MAILINGADDRESS.ADDRESSID,
		MAILINGADDRESS.PARCELID,
		MAILINGADDRESS.PARCELNUMBER,
		MAILINGADDRESS.COUNTY
	FROM MAILINGADDRESS
	INNER JOIN @PARCELS PARCELS ON MAILINGADDRESS.PARCELID = PARCELS.RECORDID
	INNER JOIN PLPLANADDRESS ON PLPLANADDRESS.MAILINGADDRESSID = MAILINGADDRESS.MAILINGADDRESSID AND PLPLANADDRESS.PLPLANID = @CASEID
	INNER JOIN MAILINGADDRESSCOUNTRYTYPE ON MAILINGADDRESS.COUNTRYTYPE = MAILINGADDRESSCOUNTRYTYPE.MAILINGADDRESSCOUNTRYTYPEID
END