CREATE FUNCTION [dbo].[GETCASENUMBERBYRECORD](@RECORDID CHAR(36))
RETURNS TABLE
AS 
RETURN

		SELECT [dbo].USERS.SUSERGUID AS CASEID, ([dbo].USERS.FNAME + '' + [dbo].USERS.LNAME) AS CASENUMBER FROM [dbo].USERS WHERE [dbo].USERS.SUSERGUID = @RECORDID
		UNION ALL
		SELECT [dbo].EXAMREQUEST.EXAMREQUESTID AS CASEID, [dbo].EXAMREQUEST.REQUESTNUMBER AS CASENUMBER FROM [dbo].EXAMREQUEST WHERE [dbo].EXAMREQUEST.EXAMREQUESTID = @RECORDID
		UNION ALL
		SELECT [dbo].EXAMSITTING.EXAMSITTINGID AS CASEID, [dbo].EXAMSITTING.SITTINGNUMBER AS CASENUMBER FROM [dbo].EXAMSITTING WHERE [dbo].EXAMSITTING.EXAMSITTINGID = @RECORDID
		UNION ALL
		SELECT [dbo].GLOBALENTITY.GLOBALENTITYID AS CASEID, [dbo].GLOBALENTITY.CONTACTID AS CASENUMBER FROM [dbo].GLOBALENTITY WHERE [dbo].GLOBALENTITY.GLOBALENTITYID = @RECORDID
		UNION ALL
		SELECT [dbo].PMPERMIT.PMPERMITID AS CASEID, [dbo].PMPERMIT.PERMITNUMBER AS CASENUMBER FROM [dbo].PMPERMIT WHERE [dbo].PMPERMIT.PMPERMITID = @RECORDID
		UNION ALL
		SELECT [dbo].PMRENEWALCASE.PMRENEWALCASEID AS CASEID, [dbo].PMRENEWALCASE.NUMBER AS CASENUMBER FROM [dbo].PMRENEWALCASE WHERE [dbo].PMRENEWALCASE.PMRENEWALCASEID = @RECORDID
		UNION ALL
		SELECT [dbo].PLAPPLICATION.PLAPPLICATIONID AS CASEID, [dbo].PLAPPLICATION.APPNUMBER AS CASENUMBER FROM [dbo].PLAPPLICATION WHERE [dbo].PLAPPLICATION.PLAPPLICATIONID = @RECORDID
		UNION ALL
		SELECT [dbo].PLPLAN.PLPLANID AS CASEID, [dbo].PLPLAN.PLANNUMBER AS CASENUMBER FROM [dbo].PLPLAN WHERE [dbo].PLPLAN.PLPLANID = @RECORDID
		UNION ALL
		SELECT [dbo].IMINSPECTION.IMINSPECTIONID AS CASEID, [dbo].IMINSPECTION.INSPECTIONNUMBER AS CASENUMBER FROM [dbo].IMINSPECTION WHERE [dbo].IMINSPECTION.IMINSPECTIONID = @RECORDID
		UNION ALL
		SELECT [dbo].IMINSPECTIONCASE.IMINSPECTIONCASEID AS CASEID, [dbo].IMINSPECTIONCASE.CASENO AS CASENUMBER FROM [dbo].IMINSPECTIONCASE WHERE [dbo].IMINSPECTIONCASE.IMINSPECTIONCASEID = @RECORDID
		UNION ALL
		SELECT [dbo].CMCODECASE.CMCODECASEID AS CASEID, [dbo].CMCODECASE.CASENUMBER AS CASENUMBER FROM [dbo].CMCODECASE WHERE [dbo].CMCODECASE.CMCODECASEID = @RECORDID
		UNION ALL
		SELECT [dbo].CMCODECASE.CMCODECASEID AS CASEID, [dbo].CMCODECASE.CASENUMBER FROM [dbo].CMVIOLATION
				JOIN [dbo].CMCODEWFSTEP ON [dbo].CMVIOLATION.CMCODEWFSTEPID = [dbo].CMCODEWFSTEP.CMCODEWFSTEPID
				JOIN [dbo].CMCODECASE ON [dbo].CMCODEWFSTEP.CMCODECASEID = [dbo].CMCODECASE.CMCODECASEID WHERE [dbo].CMVIOLATION.CMVIOLATIONID = @RECORDID
		UNION ALL
		SELECT [dbo].ILLICENSE.ILLICENSEID AS CASEID, [dbo].ILLICENSE.LICENSENUMBER AS CASENUMBER FROM [dbo].ILLICENSE WHERE [dbo].ILLICENSE.ILLICENSEID = @RECORDID
		UNION ALL
		SELECT [dbo].BLLICENSE.BLLICENSEID AS CASEID, [dbo].BLLICENSE.LICENSENUMBER AS CASENUMBER FROM [dbo].BLLICENSE WHERE [dbo].BLLICENSE.BLLICENSEID = @RECORDID
		UNION ALL
		SELECT [dbo].BLGLOBALENTITYEXTENSION.BLGLOBALENTITYEXTENSIONID AS CASEID, [dbo].BLGLOBALENTITYEXTENSION.COMPANYNAME AS CASENUMBER FROM [dbo].BLGLOBALENTITYEXTENSION WHERE [dbo].BLGLOBALENTITYEXTENSION.BLGLOBALENTITYEXTENSIONID = @RECORDID
		UNION ALL
		SELECT [dbo].CAINVOICE.CAINVOICEID AS CASEID, [dbo].CAINVOICE.INVOICENUMBER AS CASENUMBER FROM [dbo].CAINVOICE WHERE [dbo].CAINVOICE.CAINVOICEID = @RECORDID
		UNION ALL
		SELECT [dbo].CATILLSESSION.CATILLSESSIONID AS CASEID, [dbo].CATILLSESSION.CATILLSESSIONNUMBER AS CASENUMBER FROM [dbo].CATILLSESSION 
				JOIN [dbo].CATRANSACTION ON [dbo].CATILLSESSION.CATILLSESSIONID = [dbo].CATRANSACTION.CATILLSESSIONID
			WHERE [dbo].CATILLSESSION.CATILLSESSIONID = @RECORDID
		UNION ALL
		SELECT [dbo].CATRANSACTION.CATRANSACTIONID AS CASEID, [dbo].CATRANSACTION.RECEIPTNUMBER AS CASENUMBER FROM [dbo].CATRANSACTION WHERE [dbo].CATRANSACTION.CATRANSACTIONID = @RECORDID
		UNION ALL
		SELECT [dbo].CITIZENREQUEST.CITIZENREQUESTID AS CASEID, [dbo].CITIZENREQUEST.REQUESTNUMBER AS CASENUMBER FROM [dbo].CITIZENREQUEST WHERE [dbo].CITIZENREQUEST.CITIZENREQUESTID = @RECORDID
		UNION ALL
		SELECT [dbo].RPLANDLORDLICENSE.RPLANDLORDLICENSEID AS CASEID, [dbo].RPLANDLORDLICENSE.LANDLORDNUMBER AS CASENUMBER FROM [dbo].RPLANDLORDLICENSE WHERE [dbo].RPLANDLORDLICENSE.RPLANDLORDLICENSEID = @RECORDID
		UNION ALL
		SELECT [dbo].RPPROPERTY.RPPROPERTYID AS CASEID, [dbo].RPPROPERTY.PROPERTYNUMBER AS CASENUMBER FROM [dbo].RPPROPERTY WHERE [dbo].RPPROPERTY.RPPROPERTYID = @RECORDID
		UNION ALL
		SELECT [dbo].TXREMITTANCEACCOUNT.TXREMITTANCEACCOUNTID AS CASEID, REMITTANCEACCOUNTNUMBER AS CASENUMBER FROM [dbo].TXREMITTANCEACCOUNT WHERE [dbo].TXREMITTANCEACCOUNT.TXREMITTANCEACCOUNTID = @RECORDID
		UNION ALL
		SELECT [dbo].TXREMITTANCEACCOUNT.TXREMITTANCEACCOUNTID AS CASEID, REMITTANCEACCOUNTNUMBER AS CASENUMBER FROM [dbo].TXREMITTANCE
				JOIN [dbo].TXREMITTANCEACCOUNT ON [dbo].TXREMITTANCE.TXREMITTANCEACCOUNTID = [dbo].TXREMITTANCEACCOUNT.TXREMITTANCEACCOUNTID WHERE [dbo].TXREMITTANCE.TXREMITTANCEID = @RECORDID
		UNION ALL
		SELECT [dbo].OMOBJECT.OMOBJECTID AS CASEID, [dbo].OMOBJECT.OBJECTNUMBER AS CASENUMBER FROM [dbo].OMOBJECT WHERE [dbo].OMOBJECT.OMOBJECTID = @RECORDID
		UNION ALL
		SELECT [dbo].PRPROJECT.PRPROJECTID AS CASEID, [dbo].PRPROJECT.PROJECTNUMBER AS CASENUMBER FROM [dbo].PRPROJECT WHERE [dbo].PRPROJECT.PRPROJECTID = @RECORDID
		UNION ALL
		SELECT [dbo].IPCASE.IPCASEID AS CASEID, [dbo].IPCASE.CASENUMBER AS CASENUMBER FROM [dbo].IPCASE WHERE [dbo].IPCASE.IPCASEID = @RECORDID
		UNION ALL
		SELECT [dbo].IPCASE.IPCASEID AS CASEID, [dbo].IPCASE.CASENUMBER AS CASENUMBER FROM [dbo].IPCONDITION
				JOIN [dbo].IPCASE ON [dbo].IPCONDITION.IPCASEID = [dbo].IPCASE.IPCASEID WHERE [dbo].IPCONDITION.IPCONDITIONID = @RECORDID