CREATE TABLE [dbo].[BUSINESSLICENSEEVENTQUEUE] (
    [BUSINESSLICENSEEVENTQUEUEID]  BIGINT        IDENTITY (1, 1) NOT NULL,
    [BLLICENSEID]                  CHAR (36)     NOT NULL,
    [LICENSENUMBER]                NVARCHAR (50) NULL,
    [BUSINESSLICENSEEVENTTYPEID]   INT           NOT NULL,
    [EVENTSTATUSID]                INT           NOT NULL,
    [CREATEDDATE]                  DATETIME      NOT NULL,
    [PROCESSEDDATE]                DATETIME      NULL,
    [BUSINESSLICENSELASTCHANGEDBY] CHAR (36)     NULL,
    [HOLDSETUPID]                  CHAR (36)     NULL,
    CONSTRAINT [PK_BUSINESSLICENSEEVENTQUEUE] PRIMARY KEY CLUSTERED ([BUSINESSLICENSEEVENTQUEUEID] ASC),
    CONSTRAINT [FK_BusinessLicenseEventQueue_BusinessLicenseEventType] FOREIGN KEY ([BUSINESSLICENSEEVENTTYPEID]) REFERENCES [dbo].[BUSINESSLICENSEEVENTTYPE] ([BUSINESSLICENSEEVENTTYPEID]),
    CONSTRAINT [FK_BusinessLicenseEventQueue_EventStatus] FOREIGN KEY ([EVENTSTATUSID]) REFERENCES [dbo].[EVENTSTATUS] ([EVENTSTATUSID]),
    CONSTRAINT [FK_BusinessLicenseEventQueue_Users] FOREIGN KEY ([BUSINESSLICENSELASTCHANGEDBY]) REFERENCES [dbo].[USERS] ([SUSERGUID])
);


GO
CREATE NONCLUSTERED INDEX [BUSINESSLICENSEEVENTQUEUE_PROCESSEDDATE]
    ON [dbo].[BUSINESSLICENSEEVENTQUEUE]([PROCESSEDDATE] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_BUSINESSLICENSEEVENTQUEUE_CREATEDDATE]
    ON [dbo].[BUSINESSLICENSEEVENTQUEUE]([CREATEDDATE] ASC);

