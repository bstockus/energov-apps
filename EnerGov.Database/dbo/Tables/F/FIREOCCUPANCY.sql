CREATE TABLE [dbo].[FIREOCCUPANCY] (
    [ID]                    CHAR (36)      NOT NULL,
    [FIREOCCUPANCYNUMBER]   NVARCHAR (100) NOT NULL,
    [FIREOCCUPANCYTYPEID]   INT            NOT NULL,
    [ISACTIVE]              BIT            DEFAULT ((0)) NOT NULL,
    [DEACTIVATEDON]         DATETIME       NULL,
    [CREATEDON]             DATETIME       NOT NULL,
    [LASTCHANGED]           DATETIME       NOT NULL,
    [LASTCHANGEDBYID]       CHAR (36)      NOT NULL,
    [ROWVERSION]            INT            DEFAULT ((0)) NOT NULL,
    [PARENTFIREOCCUPANCYID] CHAR (36)      NULL,
    [DESCRIPTION]           NVARCHAR (MAX) NULL,
    [OCCUPANCYLOAD]         INT            NULL,
    [FOCOMPLEXID]           CHAR (36)      NULL,
    PRIMARY KEY CLUSTERED ([ID] ASC),
    CONSTRAINT [FK_FIREOCCUPANCY_FIREOCCUPANCYTYPE] FOREIGN KEY ([FIREOCCUPANCYTYPEID]) REFERENCES [dbo].[FIREOCCUPANCYTYPE] ([ID]),
    CONSTRAINT [FK_FIREOCCUPANCY_FOCOMPLEX] FOREIGN KEY ([FOCOMPLEXID]) REFERENCES [dbo].[FOCOMPLEX] ([FOCOMPLEXID]),
    CONSTRAINT [FK_FIREOCCUPANCY_LASTCHANGEDBY] FOREIGN KEY ([LASTCHANGEDBYID]) REFERENCES [dbo].[USERS] ([SUSERGUID]),
    CONSTRAINT [FK_FIREOCCUPANCY_PARENTFIREOCCUPANCY] FOREIGN KEY ([PARENTFIREOCCUPANCYID]) REFERENCES [dbo].[FIREOCCUPANCY] ([ID])
);


GO
CREATE NONCLUSTERED INDEX [IX_FIREOCCUPANCY_PARENTFIREOCCUPANCY]
    ON [dbo].[FIREOCCUPANCY]([PARENTFIREOCCUPANCYID] ASC);

