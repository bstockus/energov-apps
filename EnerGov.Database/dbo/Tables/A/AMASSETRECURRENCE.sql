CREATE TABLE [dbo].[AMASSETRECURRENCE] (
    [AMASSETRECURRENCEID]      CHAR (36) NOT NULL,
    [AMASSETID]                CHAR (36) NOT NULL,
    [AMASSETRECURRENCESETUPID] CHAR (36) NULL,
    [RECURRENCEID]             CHAR (36) NULL,
    [STARTDATE]                DATETIME  NULL,
    [ENDDATE]                  DATETIME  NULL,
    [ACTIVE]                   BIT       NOT NULL,
    [WORKFLOWID]               CHAR (36) NULL,
    [AMWORKORDERID]            CHAR (36) NULL,
    [SUPERVISOR]               CHAR (36) NULL,
    [SUBMITTEDTO]              CHAR (36) NULL,
    [ASSIGNEDTO]               CHAR (36) NULL,
    [LASTRECURRENCE]           DATETIME  NULL,
    [NEXTRECURRENCE]           DATETIME  NULL,
    CONSTRAINT [PK_AMAssetReccurrence] PRIMARY KEY CLUSTERED ([AMASSETRECURRENCEID] ASC) WITH (FILLFACTOR = 90),
    CONSTRAINT [FK_AMAssetRec_AssetRecSetUp] FOREIGN KEY ([AMASSETRECURRENCESETUPID]) REFERENCES [dbo].[AMASSETRECURRENCESETUP] ([AMASSETRECURRENCESETUPID]),
    CONSTRAINT [FK_AMAssetReccur_Workflow] FOREIGN KEY ([WORKFLOWID]) REFERENCES [dbo].[WORKFLOW] ([WORKFLOWID]),
    CONSTRAINT [FK_AMAssetReccurr_AMAsset] FOREIGN KEY ([AMASSETID]) REFERENCES [dbo].[AMASSET] ([AMASSETID]),
    CONSTRAINT [FK_AMAssetReccurr_Recurrence] FOREIGN KEY ([RECURRENCEID]) REFERENCES [dbo].[RECURRENCE] ([RECURRENCEID]),
    CONSTRAINT [FK_AMAssetRecur_AMWorkOrder] FOREIGN KEY ([AMWORKORDERID]) REFERENCES [dbo].[AMWORKORDER] ([AMWORKORDERID]),
    CONSTRAINT [FK_AMAssRecAssTo_Users] FOREIGN KEY ([ASSIGNEDTO]) REFERENCES [dbo].[USERS] ([SUSERGUID]),
    CONSTRAINT [FK_AMAssRecSubmittedTo_Users] FOREIGN KEY ([SUBMITTEDTO]) REFERENCES [dbo].[USERS] ([SUSERGUID]),
    CONSTRAINT [FK_AMAssRecSubTo_Users] FOREIGN KEY ([SUBMITTEDTO]) REFERENCES [dbo].[USERS] ([SUSERGUID]),
    CONSTRAINT [FK_AMAssRecSupervisor_Users] FOREIGN KEY ([SUPERVISOR]) REFERENCES [dbo].[USERS] ([SUSERGUID])
);

