CREATE TABLE [dbo].[ADVANCEDSEARCHCRITERIASEARCHFIELD] (
    [ADVANCEDSEARCHCRITERIASEARCHFIELDID] CHAR (36)       NOT NULL,
    [OPERATORID]                          INT             NOT NULL,
    [SEARCHCRITERIAID]                    CHAR (36)       NOT NULL,
    [FIELDID]                             INT             NULL,
    [MATCHTYPEID]                         INT             NULL,
    [BITVALUE]                            BIT             NULL,
    [STRINGVALUE]                         NVARCHAR (MAX)  NULL,
    [FROMVALUE]                           DECIMAL (18, 2) NULL,
    [TOVALUE]                             DECIMAL (18, 2) NULL,
    [STARTDATE]                           DATETIME        NULL,
    [ENDDATE]                             DATETIME        NULL,
    [STRINGVALUES]                        NVARCHAR (MAX)  NULL,
    [CUSTOMFIELDID]                       CHAR (36)       NULL,
    [STARTDATEKEY]                        INT             NULL,
    [ENDDATEKEY]                          INT             NULL,
    [SEARCHTYPEID]                        INT             NULL,
    [CUSTOMFIELDTABLEID]                  CHAR (36)       NULL,
    CONSTRAINT [PK_ADVANCEDSEARCHCRITERIASEARCHFIELD] PRIMARY KEY CLUSTERED ([ADVANCEDSEARCHCRITERIASEARCHFIELDID] ASC),
    CONSTRAINT [FK_ADVANCEDSEARCHCRITERIASEARCHFIELD_CRITERIA] FOREIGN KEY ([SEARCHCRITERIAID]) REFERENCES [dbo].[ADVANCEDSEARCHCRITERIA] ([ADVANCEDSEARCHCRITERIAID]),
    CONSTRAINT [FK_ADVANCEDSEARCHCRITERIASEARCHFIELD_CUSTOMFIELD] FOREIGN KEY ([CUSTOMFIELDID]) REFERENCES [dbo].[CUSTOMFIELD] ([GCUSTOMFIELD]),
    CONSTRAINT [FK_ADVANCEDSEARCHCRITERIASEARCHFIELD_CUSTOMFIELDTABLEID] FOREIGN KEY ([CUSTOMFIELDTABLEID]) REFERENCES [dbo].[CUSTOMFIELDTABLE] ([CUSTOMFIELDTABLEID]),
    CONSTRAINT [FK_ADVANCEDSEARCHCRITERIASEARCHFIELD_ENDDATEKEY] FOREIGN KEY ([ENDDATEKEY]) REFERENCES [dbo].[ADVANCEDSEARCHDATEKEY] ([ADVANCEDSEARCHDATEKEY]),
    CONSTRAINT [FK_ADVANCEDSEARCHCRITERIASEARCHFIELD_MATCHTYPE] FOREIGN KEY ([MATCHTYPEID]) REFERENCES [dbo].[ADVANCEDSEARCHMATCHTYPE] ([ADVANCEDSEARCHMATCHTYPEID]),
    CONSTRAINT [FK_ADVANCEDSEARCHCRITERIASEARCHFIELD_OPERATOR] FOREIGN KEY ([OPERATORID]) REFERENCES [dbo].[ADVANCEDSEARCHOPERATOR] ([ADVANCEDSEARCHOPERATORID]),
    CONSTRAINT [FK_ADVANCEDSEARCHCRITERIASEARCHFIELD_STARTDATEKEY] FOREIGN KEY ([STARTDATEKEY]) REFERENCES [dbo].[ADVANCEDSEARCHDATEKEY] ([ADVANCEDSEARCHDATEKEY]),
    CONSTRAINT [FK_ADVANCEDSEARCHCRITERIASEARCHFIELD_SYSTEMFIELD] FOREIGN KEY ([FIELDID]) REFERENCES [dbo].[ADVANCEDSEARCHSYSTEMFIELD] ([ADVANCEDSEARCHSYSTEMFIELDID])
);


GO
CREATE NONCLUSTERED INDEX [IX_ADVANCEDSEARCHCRITERIASEARCHFIELD_SEARCHCRITERIAID]
    ON [dbo].[ADVANCEDSEARCHCRITERIASEARCHFIELD]([SEARCHCRITERIAID] ASC);

