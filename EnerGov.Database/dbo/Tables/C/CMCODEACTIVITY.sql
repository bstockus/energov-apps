CREATE TABLE [dbo].[CMCODEACTIVITY] (
    [CMCODEACTIVITYID]     CHAR (36)      NOT NULL,
    [CMCODECASEID]         CHAR (36)      NOT NULL,
    [CMCODEACTIVITYTYPEID] CHAR (36)      NOT NULL,
    [CODEACTIVITYNAME]     NVARCHAR (255) NOT NULL,
    [CODEACTIVITYNUMBER]   NVARCHAR (255) NOT NULL,
    [CODEACTIVITYCOMMENTS] NVARCHAR (MAX) NOT NULL,
    [SUSERGUID]            CHAR (36)      NOT NULL,
    [CREATEDON]            DATETIME       NOT NULL,
    [CMCODEWFACTIONSTEPID] CHAR (36)      NULL,
    CONSTRAINT [PK_CMCodeActivity] PRIMARY KEY CLUSTERED ([CMCODEACTIVITYID] ASC) WITH (FILLFACTOR = 80),
    CONSTRAINT [FK_CMAct_CMWFActionStep] FOREIGN KEY ([CMCODEWFACTIONSTEPID]) REFERENCES [dbo].[CMCODEWFACTIONSTEP] ([CMCODEWFACTIONSTEPID]),
    CONSTRAINT [FK_CMCodeAct_CMCodeActType] FOREIGN KEY ([CMCODEACTIVITYTYPEID]) REFERENCES [dbo].[CMCODEACTIVITYTYPE] ([CMCODEACTIVITYTYPEID]),
    CONSTRAINT [FK_CMCodeAct_Users] FOREIGN KEY ([SUSERGUID]) REFERENCES [dbo].[USERS] ([SUSERGUID]),
    CONSTRAINT [FK_CMCodeActivity_CMCodeCase] FOREIGN KEY ([CMCODECASEID]) REFERENCES [dbo].[CMCODECASE] ([CMCODECASEID])
);


GO
CREATE NONCLUSTERED INDEX [IMPORT1]
    ON [dbo].[CMCODEACTIVITY]([CMCODEACTIVITYTYPEID] ASC) WITH (FILLFACTOR = 80);


GO
CREATE NONCLUSTERED INDEX [IMPORT2]
    ON [dbo].[CMCODEACTIVITY]([CMCODECASEID] ASC) WITH (FILLFACTOR = 80);


GO
CREATE NONCLUSTERED INDEX [IMPORT3]
    ON [dbo].[CMCODEACTIVITY]([CMCODEWFACTIONSTEPID] ASC) WITH (FILLFACTOR = 80);


GO
CREATE NONCLUSTERED INDEX [IX_CMCODEACTIVITY_CMCODEWFACTIONSTEPID]
    ON [dbo].[CMCODEACTIVITY]([CMCODEWFACTIONSTEPID] ASC);

