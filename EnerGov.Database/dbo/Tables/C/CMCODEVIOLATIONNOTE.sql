CREATE TABLE [dbo].[CMCODEVIOLATIONNOTE] (
    [CMCODEVIOLATIONNOTEID] CHAR (36)      NOT NULL,
    [CMVIOLATIONID]         CHAR (36)      NOT NULL,
    [TEXT]                  NVARCHAR (MAX) NOT NULL,
    [CREATEDBY]             CHAR (36)      NULL,
    [CREATEDDATE]           DATETIME       NULL,
    [TITLE]                 NVARCHAR (50)  CONSTRAINT [DF_CMCODEVIOLATIONNOTE_TITLE] DEFAULT ('') NULL,
    [PIN]                   BIT            CONSTRAINT [DF_CMCODEVIOLATIONNOTE_PIN] DEFAULT ((0)) NOT NULL,
    CONSTRAINT [PK_CodeViolationNote] PRIMARY KEY CLUSTERED ([CMCODEVIOLATIONNOTEID] ASC) WITH (FILLFACTOR = 80),
    CONSTRAINT [FK_CMCodeViolationNote_CMViolation] FOREIGN KEY ([CMVIOLATIONID]) REFERENCES [dbo].[CMVIOLATION] ([CMVIOLATIONID]),
    CONSTRAINT [FK_CodeViolationNote_Users] FOREIGN KEY ([CREATEDBY]) REFERENCES [dbo].[USERS] ([SUSERGUID])
);


GO
CREATE NONCLUSTERED INDEX [IX_CMVIOLATIONID]
    ON [dbo].[CMCODEVIOLATIONNOTE]([CMVIOLATIONID] ASC);

