CREATE TABLE [dbo].[RECENTHISTORYCODECASE] (
    [RECENTHISTORYCODECASEID] CHAR (36)     NOT NULL,
    [CODECASEID]              CHAR (36)     NOT NULL,
    [LOGGEDDATETIME]          DATETIME      NOT NULL,
    [USERID]                  CHAR (36)     NOT NULL,
    [CASENUMBER]              NVARCHAR (50) NOT NULL,
    CONSTRAINT [PK_RECENTHISTORYCODECASE] PRIMARY KEY CLUSTERED ([RECENTHISTORYCODECASEID] ASC),
    CONSTRAINT [FK_RECENTHISTORYCODECASE_USER] FOREIGN KEY ([USERID]) REFERENCES [dbo].[USERS] ([SUSERGUID])
);


GO
CREATE NONCLUSTERED INDEX [IX_RECENTHISTORYCODECASE_ALL]
    ON [dbo].[RECENTHISTORYCODECASE]([USERID] ASC, [CASENUMBER] DESC, [CODECASEID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_RECENTHISTORYCODECASE_LOOKUP]
    ON [dbo].[RECENTHISTORYCODECASE]([CODECASEID] ASC, [USERID] ASC, [CASENUMBER] DESC);


GO
CREATE NONCLUSTERED INDEX [IX_RECENTHISTORYCODECASE_QUERY]
    ON [dbo].[RECENTHISTORYCODECASE]([USERID] ASC)
    INCLUDE([CODECASEID], [LOGGEDDATETIME]);

