CREATE TABLE [dbo].[RECENTHISTORYOBJECTCASE] (
    [RECENTHISTORYOBJECTCASEID] CHAR (36)     NOT NULL,
    [OBJECTCASEID]              CHAR (36)     NOT NULL,
    [LOGGEDDATETIME]            DATETIME      NOT NULL,
    [USERID]                    CHAR (36)     NOT NULL,
    [OBJECTNUMBER]              NVARCHAR (50) NOT NULL,
    CONSTRAINT [PK_RECENTHISTORYOBJECTCASE] PRIMARY KEY CLUSTERED ([RECENTHISTORYOBJECTCASEID] ASC),
    CONSTRAINT [FK_RECENTHISTORYOBJECTCASE_USER] FOREIGN KEY ([USERID]) REFERENCES [dbo].[USERS] ([SUSERGUID])
);


GO
CREATE NONCLUSTERED INDEX [IX_RECENTHISTORYOBJECTCASE_QUERY]
    ON [dbo].[RECENTHISTORYOBJECTCASE]([USERID] ASC)
    INCLUDE([OBJECTCASEID], [LOGGEDDATETIME]);


GO
CREATE NONCLUSTERED INDEX [IX_RECENTHISTORYOBJECTCASE_ALL]
    ON [dbo].[RECENTHISTORYOBJECTCASE]([USERID] ASC, [OBJECTNUMBER] DESC, [OBJECTCASEID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_RECENTHISTORYOBJECTCASE_LOOKUP]
    ON [dbo].[RECENTHISTORYOBJECTCASE]([OBJECTCASEID] ASC, [USERID] ASC, [OBJECTNUMBER] DESC);

