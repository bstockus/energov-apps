CREATE TABLE [dbo].[PROJECTEVENTQUEUE] (
    [PROJECTEVENTQUEUEID]  BIGINT        IDENTITY (1, 1) NOT NULL,
    [PRPROJECTID]          CHAR (36)     NOT NULL,
    [PROJECTNUMBER]        NVARCHAR (50) NOT NULL,
    [PROJECTEVENTTYPEID]   INT           NOT NULL,
    [EVENTSTATUSID]        INT           NOT NULL,
    [CREATEDDATE]          DATETIME      NOT NULL,
    [PROCESSEDDATE]        DATETIME      NULL,
    [PROJECTLASTCHANGEDBY] CHAR (36)     NULL,
    CONSTRAINT [PK_PROJECTEVENTQUEUE] PRIMARY KEY CLUSTERED ([PROJECTEVENTQUEUEID] ASC),
    CONSTRAINT [FK_ProjectEventQueue_EventStatus] FOREIGN KEY ([EVENTSTATUSID]) REFERENCES [dbo].[EVENTSTATUS] ([EVENTSTATUSID]),
    CONSTRAINT [FK_ProjectEventQueue_ProjectEventType] FOREIGN KEY ([PROJECTEVENTTYPEID]) REFERENCES [dbo].[PROJECTEVENTTYPE] ([PROJECTEVENTTYPEID]),
    CONSTRAINT [FK_ProjectEventQueue_Users] FOREIGN KEY ([PROJECTLASTCHANGEDBY]) REFERENCES [dbo].[USERS] ([SUSERGUID])
);


GO
CREATE NONCLUSTERED INDEX [PROJECTEVENTQUEUE_PROCESSEDDATE]
    ON [dbo].[PROJECTEVENTQUEUE]([PROCESSEDDATE] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_PROJECTEVENTQUEUE_CREATEDDATE]
    ON [dbo].[PROJECTEVENTQUEUE]([CREATEDDATE] ASC);

