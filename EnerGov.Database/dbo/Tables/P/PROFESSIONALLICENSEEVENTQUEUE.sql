CREATE TABLE [dbo].[PROFESSIONALLICENSEEVENTQUEUE] (
    [PROFESSIONALLICENSEEVENTQUEUEID]  BIGINT        IDENTITY (1, 1) NOT NULL,
    [ILLICENSEID]                      CHAR (36)     NOT NULL,
    [LICENSENUMBER]                    NVARCHAR (50) NOT NULL,
    [PROFESSIONALLICENSEEVENTTYPEID]   INT           NOT NULL,
    [EVENTSTATUSID]                    INT           NOT NULL,
    [CREATEDDATE]                      DATETIME      NOT NULL,
    [PROCESSEDDATE]                    DATETIME      NULL,
    [PROFESSIONALLICENSELASTCHANGEDBY] CHAR (36)     NULL,
    CONSTRAINT [PK_PROFESSIONALLICENSEEVENTQUEUE] PRIMARY KEY CLUSTERED ([PROFESSIONALLICENSEEVENTQUEUEID] ASC),
    CONSTRAINT [FK_ProfessionalLicenseEventQueue_EventStatus] FOREIGN KEY ([EVENTSTATUSID]) REFERENCES [dbo].[EVENTSTATUS] ([EVENTSTATUSID]),
    CONSTRAINT [FK_ProfessionalLicenseEventQueue_ProfessionalLicenseEventType] FOREIGN KEY ([PROFESSIONALLICENSEEVENTTYPEID]) REFERENCES [dbo].[PROFESSIONALLICENSEEVENTTYPE] ([PROFESSIONALLICENSEEVENTTYPEID]),
    CONSTRAINT [FK_ProfessionalLicenseEventQueue_Users] FOREIGN KEY ([PROFESSIONALLICENSELASTCHANGEDBY]) REFERENCES [dbo].[USERS] ([SUSERGUID])
);


GO
CREATE NONCLUSTERED INDEX [PROFESSIONALLICENSEEVENTQUEUE_PROCESSEDDATE]
    ON [dbo].[PROFESSIONALLICENSEEVENTQUEUE]([PROCESSEDDATE] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_PROFESSIONALLICENSEEVENTQUEUE_CREATEDDATE]
    ON [dbo].[PROFESSIONALLICENSEEVENTQUEUE]([CREATEDDATE] ASC);

