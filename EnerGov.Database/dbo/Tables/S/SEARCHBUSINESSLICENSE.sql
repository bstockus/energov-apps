CREATE TABLE [dbo].[SEARCHBUSINESSLICENSE] (
    [SEARCHBUSINESSLICENSEID]      CHAR (36)      NOT NULL,
    [CRITERIANAME]                 NVARCHAR (100) NOT NULL,
    [CRITERIAUSERID]               CHAR (36)      NOT NULL,
    [SHARED]                       BIT            CONSTRAINT [DF_SearchBusinessLicense_Shared] DEFAULT ((0)) NOT NULL,
    [GLOBALENTITYNAME]             NVARCHAR (100) NULL,
    [PARENTBLGLOBALENTITYEXTID]    CHAR (36)      NULL,
    [PARENTGLOBALENTITYNAME]       NVARCHAR (100) NULL,
    [BUSINESSDISTRICTID]           CHAR (36)      NULL,
    [DBA]                          NVARCHAR (100) NULL,
    [REGISTRATIONID]               NVARCHAR (50)  NULL,
    [BLEXTLOCATIONID]              CHAR (36)      NULL,
    [BLEXTCOMPANYTYPEID]           CHAR (36)      NULL,
    [EINNUMBER]                    NVARCHAR (10)  NULL,
    [OPENDATEFROM]                 DATETIME       NULL,
    [OPENDATETO]                   DATETIME       NULL,
    [CLOSEDATEFROM]                DATETIME       NULL,
    [CLOSEDATETO]                  DATETIME       NULL,
    [BLEXTSTATUSID]                CHAR (36)      NULL,
    [STATETAXNUMBER]               NVARCHAR (20)  NULL,
    [BLEXTBUSINESSTYPEID]          CHAR (36)      NULL,
    [BLEXTBUSINESSTYPENAME]        NVARCHAR (250) NULL,
    [MAINBUSINESSTYPE]             BIT            CONSTRAINT [DF_SearchBusinessLicense_MainBusinessType] DEFAULT ((0)) NOT NULL,
    [LASTAUDITDATEFROM]            DATETIME       NULL,
    [LASTAUDITDATETO]              DATETIME       NULL,
    [LICENSENUMBER]                NVARCHAR (50)  NULL,
    [ACCOUNTNUMBER]                NVARCHAR (50)  NULL,
    [ESTIMATERECEIPTFROM]          MONEY          NULL,
    [ESTIMATERECEIPTTO]            MONEY          NULL,
    [BLLICENSETYPEID]              CHAR (36)      NULL,
    [ACCOUNTBALANCEFROM]           MONEY          NULL,
    [ACCOUNTBALANCETO]             MONEY          NULL,
    [ACTUALRECEIPTFROM]            MONEY          NULL,
    [ACTUALRECEIPTTO]              MONEY          NULL,
    [BLLICENSECLASSID]             CHAR (36)      NULL,
    [LICENSEDISTRICTID]            CHAR (36)      NULL,
    [LICENSEAPPLIEDDATEFROM]       DATETIME       NULL,
    [LICENSEAPPLIEDDATETO]         DATETIME       NULL,
    [BLLICENSESTATUSID]            CHAR (36)      NULL,
    [ISSUEDBYUSER]                 CHAR (36)      NULL,
    [LICENSEISSUEDDATEFROM]        DATETIME       NULL,
    [LICENSEISSUEDDATETO]          DATETIME       NULL,
    [LICENSEYEAR]                  NUMERIC (4)    NULL,
    [LICENSEBLEXTBUSINESSTYPEID]   CHAR (36)      NULL,
    [LICENSEBLEXTBUSINESSTYPENAME] NVARCHAR (250) NULL,
    [LICENSEEXPIREDDATEFROM]       DATETIME       NULL,
    [LICENSEEXPIREDDATETO]         DATETIME       NULL,
    [LICENSEMAINBUSINESSTYPE]      BIT            CONSTRAINT [DF_SearchBusinessLicense_LicenseMainBusinessType] DEFAULT ((0)) NOT NULL,
    [LICENSEMOSTRECENT]            BIT            CONSTRAINT [DF_SearchBusinessLicense_LicenseMostRecent] DEFAULT ((0)) NOT NULL,
    [LICENSERENEWALDATEFROM]       DATETIME       NULL,
    [LICENSERENEWALDATETO]         DATETIME       NULL,
    [PREDIRECTION]                 NVARCHAR (30)  NULL,
    [STREETNUMBER]                 NVARCHAR (100) NULL,
    [POSTDIRECTION]                NVARCHAR (30)  NULL,
    [STREETNAME]                   NVARCHAR (100) NULL,
    [APARTMENT]                    NVARCHAR (100) NULL,
    [STREETTYPE]                   NVARCHAR (50)  NULL,
    [CITY]                         NVARCHAR (50)  NULL,
    [STATE]                        NVARCHAR (50)  NULL,
    [ZIP]                          NVARCHAR (50)  NULL,
    [ADDRESSTYPE]                  NVARCHAR (50)  NULL,
    [PARCELNUMBER]                 NVARCHAR (50)  NULL,
    [MAINADDRESS]                  BIT            CONSTRAINT [DF_SearchBusinessLicense_MainAddress] DEFAULT ((0)) NOT NULL,
    [MAINPARCEL]                   BIT            CONSTRAINT [DF_SearchBusinessLicense_MainParcel] DEFAULT ((0)) NOT NULL,
    [BUSINESSADDRESS]              BIT            CONSTRAINT [DF_SearchBusinessLicense_BusinessAddress] DEFAULT ((1)) NOT NULL,
    [LICENSEADDRESS]               BIT            CONSTRAINT [DF_SearchBusinessLicense_LicenseAddress] DEFAULT ((0)) NOT NULL,
    [CONTACTFIRSTNAME]             NVARCHAR (50)  NULL,
    [CONTACTMIDDLENAME]            NVARCHAR (50)  NULL,
    [CONTACTLASTNAME]              NVARCHAR (50)  NULL,
    [CONTACTCOMPANYNAME]           NVARCHAR (100) NULL,
    [CONTACTEMAIL]                 NVARCHAR (250) NULL,
    [CONTACTPHONENUMBER]           NVARCHAR (50)  NULL,
    [CONTACTWEBSITE]               NVARCHAR (250) NULL,
    [BLCONTACTTYPEID]              CHAR (36)      NULL,
    [BUSINESSCONTACT]              BIT            CONSTRAINT [DF_SearchBusinessLicense_BusinessContact] DEFAULT ((0)) NOT NULL,
    [LICENSECONTACT]               BIT            CONSTRAINT [DF_SearchBusinessLicense_LicenseContact] DEFAULT ((0)) NOT NULL,
    [BUSINESSCUSTOMFIELD]          BIT            CONSTRAINT [DF_SearchBusinessLicense_BusinessCustomField] DEFAULT ((1)) NOT NULL,
    [LICENSECUSTOMFIELD]           BIT            CONSTRAINT [DF_SearchBusinessLicense_LicenseCustomField] DEFAULT ((0)) NOT NULL,
    [OPENDATEUSEDR]                BIT            NULL,
    [OPENDATEDRTYPE]               INT            NULL,
    [OPENDATEDRNUMOFDAY]           INT            NULL,
    [CLOSEDATEUSEDR]               BIT            NULL,
    [CLOSEDATEDRTYPE]              INT            NULL,
    [CLOSEDATEDRNUMOFDAY]          INT            NULL,
    [LASTAUDITDATEUSEDR]           BIT            NULL,
    [LASTAUDITDATEDRTYPE]          INT            NULL,
    [LASTAUDITDATEDRNUMOFDAY]      INT            NULL,
    [APPLIEDDATEUSEDR]             BIT            NULL,
    [APPLIEDDATEDRTYPE]            INT            NULL,
    [APPLIEDDATEDRNUMOFDAY]        INT            NULL,
    [ISSUEDATEUSEDR]               BIT            NULL,
    [ISSUEDATEDRTYPE]              INT            NULL,
    [ISSUEDATEDRNUMOFDAY]          INT            NULL,
    [EXPIREDATEUSEDR]              BIT            NULL,
    [EXPIREDATEDRTYPE]             INT            NULL,
    [EXPIREDATEDRNUMOFDAY]         INT            NULL,
    [LASTRENEWDATEUSEDR]           BIT            NULL,
    [LASTRENEWDATEDRTYPE]          INT            NULL,
    [LASTRENEWDATEDRNUMOFDAY]      INT            NULL,
    [UNITORSUITE]                  NVARCHAR (20)  NULL,
    [PROVINCE]                     NVARCHAR (50)  NULL,
    [RURALROUTE]                   NVARCHAR (50)  NULL,
    [STATION]                      NVARCHAR (50)  NULL,
    [COMPSITE]                     NVARCHAR (50)  NULL,
    [POBOX]                        NVARCHAR (50)  NULL,
    [ATTN]                         NVARCHAR (50)  NULL,
    [MAILINGADDRESSCOUNTRYTYPEID]  INT            DEFAULT ((0)) NOT NULL,
    [BALANCEDUEFROM]               MONEY          NULL,
    [BALANCEDUETO]                 MONEY          NULL,
    [LICENSEDESCRIPTION]           NVARCHAR (MAX) NULL,
    [BUSINESSDESCRIPTION]          NVARCHAR (MAX) NULL,
    [COUNTY]                       NVARCHAR (50)  NULL,
    CONSTRAINT [PK_SearchBusinessLicense] PRIMARY KEY CLUSTERED ([SEARCHBUSINESSLICENSEID] ASC) WITH (FILLFACTOR = 90),
    CONSTRAINT [FK_BLContactTypeID_BLContactType] FOREIGN KEY ([BLCONTACTTYPEID]) REFERENCES [dbo].[BLCONTACTTYPE] ([BLCONTACTTYPEID]),
    CONSTRAINT [FK_BLExtBusinessTypeID_BLExtBusinessType] FOREIGN KEY ([BLEXTBUSINESSTYPEID]) REFERENCES [dbo].[BLEXTBUSINESSTYPE] ([BLEXTBUSINESSTYPEID]),
    CONSTRAINT [FK_BLExtCompanyTypeID_BLExtCompanyType] FOREIGN KEY ([BLEXTCOMPANYTYPEID]) REFERENCES [dbo].[BLEXTCOMPANYTYPE] ([BLEXTCOMPANYTYPEID]),
    CONSTRAINT [FK_BLExtLocationID_BLExtLocation] FOREIGN KEY ([BLEXTLOCATIONID]) REFERENCES [dbo].[BLEXTLOCATION] ([BLEXTLOCATIONID]),
    CONSTRAINT [FK_BLExtStatusID_BLExtStatus] FOREIGN KEY ([BLEXTSTATUSID]) REFERENCES [dbo].[BLEXTSTATUS] ([BLEXTSTATUSID]),
    CONSTRAINT [FK_BLLicenseClassID_BLLicenseClass] FOREIGN KEY ([BLLICENSECLASSID]) REFERENCES [dbo].[BLLICENSECLASS] ([BLLICENSECLASSID]),
    CONSTRAINT [FK_BLLicenseStatusID_BLLicenseStatus] FOREIGN KEY ([BLLICENSESTATUSID]) REFERENCES [dbo].[BLLICENSESTATUS] ([BLLICENSESTATUSID]),
    CONSTRAINT [FK_BLLicenseTypeID_BLLicenseType] FOREIGN KEY ([BLLICENSETYPEID]) REFERENCES [dbo].[BLLICENSETYPE] ([BLLICENSETYPEID]),
    CONSTRAINT [FK_BusinessDistrictID_District] FOREIGN KEY ([BUSINESSDISTRICTID]) REFERENCES [dbo].[DISTRICT] ([DISTRICTID]),
    CONSTRAINT [FK_CriteriaUserID_Users] FOREIGN KEY ([CRITERIAUSERID]) REFERENCES [dbo].[USERS] ([SUSERGUID]),
    CONSTRAINT [FK_IssuedByUser_Users] FOREIGN KEY ([ISSUEDBYUSER]) REFERENCES [dbo].[USERS] ([SUSERGUID]),
    CONSTRAINT [FK_LiBLExtBusTypeID_BLExtBusType] FOREIGN KEY ([LICENSEBLEXTBUSINESSTYPEID]) REFERENCES [dbo].[BLEXTBUSINESSTYPE] ([BLEXTBUSINESSTYPEID]),
    CONSTRAINT [FK_LicenseDistrictID_District] FOREIGN KEY ([LICENSEDISTRICTID]) REFERENCES [dbo].[DISTRICT] ([DISTRICTID]),
    CONSTRAINT [FK_ParentBLGloEntEx_BLGloEnExt] FOREIGN KEY ([PARENTBLGLOBALENTITYEXTID]) REFERENCES [dbo].[BLGLOBALENTITYEXTENSION] ([BLGLOBALENTITYEXTENSIONID]),
    CONSTRAINT [FK_SEARCHBUSLIC_MLNGADDCNTTPE] FOREIGN KEY ([MAILINGADDRESSCOUNTRYTYPEID]) REFERENCES [dbo].[MAILINGADDRESSCOUNTRYTYPE] ([MAILINGADDRESSCOUNTRYTYPEID]),
    CONSTRAINT [FK_SRCHBSNESLCNS_MLNGADDCNTTPE] FOREIGN KEY ([MAILINGADDRESSCOUNTRYTYPEID]) REFERENCES [dbo].[MAILINGADDRESSCOUNTRYTYPE] ([MAILINGADDRESSCOUNTRYTYPEID])
);


GO
CREATE NONCLUSTERED INDEX [IX_SEARCHBUSINESSLICENSE_BLEXTCOMPANYTYPEID]
    ON [dbo].[SEARCHBUSINESSLICENSE]([BLEXTCOMPANYTYPEID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_SEARCHBUSINESSLICENSE_BLLICENSETYPEID]
    ON [dbo].[SEARCHBUSINESSLICENSE]([BLLICENSETYPEID] ASC);

