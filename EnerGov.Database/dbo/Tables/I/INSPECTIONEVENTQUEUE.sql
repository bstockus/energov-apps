CREATE TABLE [dbo].[INSPECTIONEVENTQUEUE] (
    [INSPECTIONEVENTQUEUEID]  BIGINT        IDENTITY (1, 1) NOT NULL,
    [IMINSPECTIONID]          CHAR (36)     NOT NULL,
    [INSPECTIONNUMBER]        NVARCHAR (50) NULL,
    [INSPECTIONEVENTTYPEID]   INT           NOT NULL,
    [EVENTSTATUSID]           INT           NOT NULL,
    [CREATEDDATE]             DATETIME      NOT NULL,
    [PROCESSEDDATE]           DATETIME      NULL,
    [INSPECTIONLASTCHANGEDBY] CHAR (36)     NULL,
    CONSTRAINT [PK_INSPECTIONEVENTQUEUE] PRIMARY KEY CLUSTERED ([INSPECTIONEVENTQUEUEID] ASC),
    CONSTRAINT [FK_InspectionEventQueue_EventStatus] FOREIGN KEY ([EVENTSTATUSID]) REFERENCES [dbo].[EVENTSTATUS] ([EVENTSTATUSID]),
    CONSTRAINT [FK_InspectionEventQueue_InspectionEventType] FOREIGN KEY ([INSPECTIONEVENTTYPEID]) REFERENCES [dbo].[INSPECTIONEVENTTYPE] ([INSPECTIONEVENTTYPEID]),
    CONSTRAINT [FK_InspectionEventQueue_Users] FOREIGN KEY ([INSPECTIONLASTCHANGEDBY]) REFERENCES [dbo].[USERS] ([SUSERGUID])
);


GO
CREATE NONCLUSTERED INDEX [INSPECTIONEVENTQUEUE_PROCESSEDDATE]
    ON [dbo].[INSPECTIONEVENTQUEUE]([PROCESSEDDATE] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_INSPECTIONEVENTQUEUE_CREATEDDATE]
    ON [dbo].[INSPECTIONEVENTQUEUE]([CREATEDDATE] ASC);

