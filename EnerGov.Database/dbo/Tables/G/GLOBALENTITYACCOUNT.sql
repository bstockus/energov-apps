CREATE TABLE [dbo].[GLOBALENTITYACCOUNT] (
    [GLOBALENTITYACCOUNTID]     CHAR (36)      NOT NULL,
    [NAME]                      NVARCHAR (100) NOT NULL,
    [DESCRIPTION]               NVARCHAR (MAX) NULL,
    [ACCOUNTNUMBER]             NVARCHAR (500) NOT NULL,
    [BALANCE]                   MONEY          CONSTRAINT [DEF_GlobalEntityAcct_Balance] DEFAULT ((0)) NOT NULL,
    [ACTIVE]                    BIT            CONSTRAINT [DEF_GlobalEntityAcct_Active] DEFAULT ((0)) NOT NULL,
    [ROWVERSION]                INT            CONSTRAINT [DF_GlobalEntityAccount_RowVersion] DEFAULT ((1)) NOT NULL,
    [LASTCHANGEDON]             DATETIME       CONSTRAINT [DF_GlobalEntityAccount_LastChangedOn] DEFAULT (getdate()) NOT NULL,
    [LASTCHANGEDBY]             CHAR (36)      NOT NULL,
    [GLOBALENTITYACCOUNTTYPEID] CHAR (36)      NOT NULL,
    CONSTRAINT [PK_GlobalEntityAccount] PRIMARY KEY NONCLUSTERED ([GLOBALENTITYACCOUNTID] ASC) WITH (FILLFACTOR = 90),
    CONSTRAINT [FK_Account_Type] FOREIGN KEY ([GLOBALENTITYACCOUNTTYPEID]) REFERENCES [dbo].[GLOBALENTITYACCOUNTTYPE] ([GLOBALENTITYACCOUNTTYPEID]),
    CONSTRAINT [FK_GlobalEntityAccount_Users] FOREIGN KEY ([LASTCHANGEDBY]) REFERENCES [dbo].[USERS] ([SUSERGUID])
);


GO
CREATE NONCLUSTERED INDEX [IX_GEA_ACTIVE]
    ON [dbo].[GLOBALENTITYACCOUNT]([ACTIVE] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_GEA_GLOBALENTITYACCOUNTTYPEID]
    ON [dbo].[GLOBALENTITYACCOUNT]([GLOBALENTITYACCOUNTTYPEID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_GEA_NAME]
    ON [dbo].[GLOBALENTITYACCOUNT]([NAME] ASC);

