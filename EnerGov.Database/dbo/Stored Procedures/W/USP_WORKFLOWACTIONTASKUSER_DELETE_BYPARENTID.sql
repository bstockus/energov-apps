CREATE PROCEDURE [dbo].[USP_WORKFLOWACTIONTASKUSER_DELETE_BYPARENTID]
(
	@WORKFLOWACTIONID CHAR(36),
	@WORKFLOWID CHAR(36),
    @WORKFLOWACTIONTASKID CHAR(36)
)
AS
DELETE [dbo].[WORKFLOWACTIONTASKUSER] FROM [dbo].[WORKFLOWACTIONTASKUSER]
INNER JOIN [dbo].[WORKFLOWACTIONTASK] ON [dbo].[WORKFLOWACTIONTASKUSER].[WORKFLOWACTIONTASKID] =  [dbo].[WORKFLOWACTIONTASK].[WORKFLOWACTIONTASKID]
INNER JOIN [dbo].[WORKFLOWACTION] ON [dbo].[WORKFLOWACTIONTASK].[WORKFLOWACTIONID] = [dbo].[WORKFLOWACTION].[WORKFLOWACTIONID]
WHERE
    (@WORKFLOWACTIONID IS NULL OR [dbo].[WORKFLOWACTIONTASK].[WORKFLOWACTIONID] = @WORKFLOWACTIONID) 
	AND (@WORKFLOWID IS NULL OR [dbo].[WORKFLOWACTION].[WORKFLOWID] = @WORKFLOWID)
    AND (@WORKFLOWACTIONTASKID IS NULL OR [dbo].[WORKFLOWACTIONTASKUSER].[WORKFLOWACTIONTASKID] = @WORKFLOWACTIONTASKID)