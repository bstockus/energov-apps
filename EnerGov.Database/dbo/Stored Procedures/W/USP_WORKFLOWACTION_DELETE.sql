CREATE PROCEDURE [dbo].[USP_WORKFLOWACTION_DELETE]
(
	@WORKFLOWACTIONID CHAR(36)
)
AS


DECLARE @WORKFLOWID CHAR(36)
SELECT @WORKFLOWID = [WORKFLOWID] from  [dbo].[WORKFLOWACTION] 
WHERE [WORKFLOWACTIONID] = @WORKFLOWACTIONID

EXEC [dbo].[USP_WORKFLOWACTIONPARAMETER_DELETE_BYPARENTID] @WORKFLOWID,@WORKFLOWACTIONID
EXEC [dbo].[USP_WORKFLOWACTIONHOLDTYPE_DELETE_BYPARENTID] @WORKFLOWID,@WORKFLOWACTIONID
EXEC [dbo].[USP_WORKFLOWACTIONSETCALENDARDUEDA_DELETE_BYPARENTID] @WORKFLOWID, @WORKFLOWACTIONID
EXEC [dbo].[USP_WORKFLOWACTIONSETVALUE_DELETE_BYPARENTID] @WORKFLOWID, @WORKFLOWACTIONID
EXEC [dbo].[USP_MAILMERGETEMPLATEUSER_DELETE_BYPARENTID] @WORKFLOWACTIONID, NULL
EXEC [dbo].[USP_WORKFLOWACTIONMAILMERGETMPL_DELETE_BYPARENTID] @WORKFLOWACTIONID, NULL
EXEC [dbo].[USP_WORKFLOWACTIONATTACHDOC_DELETE_BYPARENTID] @WORKFLOWID, @WORKFLOWACTIONID
EXEC [dbo].[USP_WORKFLOWACTIONFTP_DELETE_BYPARENTID] @WORKFLOWID, @WORKFLOWACTIONID
EXEC [dbo].[USP_WORKFLOWACTIONTASKUSER_DELETE_BYPARENTID] @WORKFLOWACTIONID, NULL, NULL
EXEC [dbo].[USP_WORKFLOWACTIONTASK_DELETE_BYPARENTID] @WORKFLOWID, @WORKFLOWACTIONID

DELETE FROM [dbo].[WORKFLOWACTION]
WHERE [WORKFLOWACTIONID] = @WORKFLOWACTIONID