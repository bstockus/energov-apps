


CREATE PROCEDURE [dbo].[PMO_AUDIT_REPORT_SYS_CF_TAB_NO_FIELDS]
AS

SELECT     CUSTOMFIELDOBJECT.GCUSTOMFIELD, CUSTOMFIELDLAYOUT.SNAME AS CF_LAYOUT, CUSTOMFIELDOBJECT.SLABEL AS TAB_NAME, CUSTOMFIELDOBJECT.FKGPARENTCONTROL, 
                      CUSTOMFIELDLAYOUTCONTROLTYPE.SNAME AS CF_TYPE, CUSTOMFIELDOBJECT_CHILD.GCUSTOMFIELD AS CHILD_GCUSTOMFIELD, CUSTOMFIELDOBJECT_CHILD.SLABEL AS CHILD_CF
FROM         CUSTOMFIELDOBJECT INNER JOIN
                      CUSTOMFIELDLAYOUTCONTROLTYPE ON 
                      CUSTOMFIELDOBJECT.FKCUSTOMFIELDLAYOUTCONTROLTYPE = CUSTOMFIELDLAYOUTCONTROLTYPE.ICUSTOMFIELDLAYOUTCONTROLTYPE INNER JOIN
                      CUSTOMFIELDLAYOUT ON CUSTOMFIELDOBJECT.FKGCUSTOMFIELDLAYOUT = CUSTOMFIELDLAYOUT.GCUSTOMFIELDLAYOUTS LEFT OUTER JOIN
                      CUSTOMFIELDOBJECT AS CUSTOMFIELDOBJECT_CHILD ON CUSTOMFIELDOBJECT.GCUSTOMFIELD = CUSTOMFIELDOBJECT_CHILD.FKGPARENTCONTROL
WHERE     (CUSTOMFIELDLAYOUTCONTROLTYPE.SNAME = 'TABITEM') AND CUSTOMFIELDOBJECT_CHILD.GCUSTOMFIELD IS NULL

