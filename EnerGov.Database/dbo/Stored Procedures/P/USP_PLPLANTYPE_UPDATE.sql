CREATE PROCEDURE [dbo].[USP_PLPLANTYPE_UPDATE]
(
	@PLPLANTYPEID CHAR(36),
	@PLPLANTYPEGROUPID CHAR(36),
	@PLANNAME NVARCHAR(50),
	@PREFIX NVARCHAR(10),
	@DAYSTOEXPIRE INT,
	@ACTIVE BIT,
	@TABLENAME NVARCHAR(150),
	@UNLIMITED BIT,
	@REPORTNAME NVARCHAR(50),
	@ALLOWINTERNETSUBMISSION BIT,
	@EXPIRABLE BIT,
	@ASSIGNEDUSER CHAR(36),
	@DEFAULTSTATUS CHAR(36),
	@DEFAULTUSER CHAR(36),
	@SHOWINLICENSING BIT,
	@ALLOWCOMPLETEWITHOPENINVOICE BIT,
	@DAYSTOPLANAPPROVALEXPIRE INT,
	@VALUATION BIT,
	@SQUAREFEET BIT,
	@USINGCLOCK BIT,
	@CLOCKLIMITEDDAYS INT,
	@DEFAULTINTERNETPLPLANSTATUSID CHAR(36),
	@USEPREFIXASSUFFIX BIT,
	@ALLOWOBJECTASSOCIATION BIT,
	@USECASETYPENUMBERING BIT,
	@LASTCHANGEDBY CHAR(36),
	@LASTCHANGEDON DATETIME,
	@ROWVERSION INT,
	@PLPLANTYPECSSUPLOADSETTINGTYPEID INT
)
AS
DECLARE @OUTPUTTABLE as TABLE([ROWVERSION]  int)
UPDATE [dbo].[PLPLANTYPE] SET
	[PLPLANTYPEGROUPID] = @PLPLANTYPEGROUPID,
	[PLANNAME] = @PLANNAME,
	[PREFIX] = @PREFIX,
	[DAYSTOEXPIRE] = @DAYSTOEXPIRE,
	[ACTIVE] = @ACTIVE,
	[TABLENAME] = @TABLENAME,
	[UNLIMITED] = @UNLIMITED,
	[REPORTNAME] = @REPORTNAME,
	[ALLOWINTERNETSUBMISSION] = @ALLOWINTERNETSUBMISSION,
	[EXPIRABLE] = @EXPIRABLE,
	[ASSIGNEDUSER] = @ASSIGNEDUSER,
	[DEFAULTSTATUS] = @DEFAULTSTATUS,
	[DEFAULTUSER] = @DEFAULTUSER,
	[SHOWINLICENSING] = @SHOWINLICENSING,
	[ALLOWCOMPLETEWITHOPENINVOICE] = @ALLOWCOMPLETEWITHOPENINVOICE,
	[DAYSTOPLANAPPROVALEXPIRE] = @DAYSTOPLANAPPROVALEXPIRE,
	[VALUATION] = @VALUATION,
	[SQUAREFEET] = @SQUAREFEET,
	[USINGCLOCK] = @USINGCLOCK,
	[CLOCKLIMITEDDAYS] = @CLOCKLIMITEDDAYS,
	[DEFAULTINTERNETPLPLANSTATUSID] = @DEFAULTINTERNETPLPLANSTATUSID,
	[USEPREFIXASSUFFIX] = @USEPREFIXASSUFFIX,
	[ALLOWOBJECTASSOCIATION] = @ALLOWOBJECTASSOCIATION,
	[USECASETYPENUMBERING] = @USECASETYPENUMBERING,
	[LASTCHANGEDBY] = @LASTCHANGEDBY,
	[LASTCHANGEDON] = @LASTCHANGEDON,
	[ROWVERSION] = @ROWVERSION + 1,
	[PLPLANTYPECSSUPLOADSETTINGTYPEID] = @PLPLANTYPECSSUPLOADSETTINGTYPEID
OUTPUT inserted.[ROWVERSION] INTO @OUTPUTTABLE
WHERE
	[PLPLANTYPEID] = @PLPLANTYPEID AND 
	[ROWVERSION]= @ROWVERSION

SELECT * FROM @OUTPUTTABLE