CREATE PROCEDURE [dbo].[USP_PMPERMITTYPEWORKCLASS_DELETE]
(
@PMPERMITTYPEWORKCLASSID CHAR(36)
)
AS

DECLARE @PERMITTYPEID CHAR(36), @PERMITWORKCLASSID CHAR(36)

SELECT @PERMITTYPEID = [PMPERMITTYPEID], @PERMITWORKCLASSID = [PMPERMITWORKCLASSID] 
	FROM [dbo].[PMPERMITTYPEWORKCLASS] WHERE [PMPERMITTYPEWORKCLASSID] = @PMPERMITTYPEWORKCLASSID

-- Delete Allowed Unit types for (permittype, permitworkclass)
EXEC [USP_PMPERMITTYPEUNITTYPE_DELETE_BYPARENTID] @PERMITTYPEID, @PERMITWORKCLASSID

-- Delete Contact types for (permittypeworkclass, permitworkclass)
EXEC [USP_PMCONTACTTYPEREF_DELETE_BYPARENTID] @PERMITTYPEID, @PMPERMITTYPEWORKCLASSID

-- Delete Online File types for (permittype,permittypeworkclass)
EXEC [USP_ATTACHMENTREQFILEREF_PMPERMITTYPE_DELETE_BYPARENTID] @PERMITTYPEID, @PMPERMITTYPEWORKCLASSID

-- Delete Professional license type for (permittype,permittypeworkclass)
EXEC [dbo].[USP_PMPERMITTYPEILLICTYPE_DELETE_BYPARENTID] @PERMITTYPEID, @PMPERMITTYPEWORKCLASSID

-- Delete Certification type for (permittype,permitworkclass)
EXEC [dbo].[USP_PMPERMITTYPELICENSETYPE_DELETE_BYPARENTID] @PERMITTYPEID, @PERMITWORKCLASSID

-- Delete Business license type for (permittype,permittypeworkclass)
EXEC [dbo].[USP_PMPERMITTYPEBUSLICTYPE_DELETE_BYPARENTID] @PERMITTYPEID, @PMPERMITTYPEWORKCLASSID

-- Delete System task type workclass for (permittype,permittypeworkclass)
EXEC [common].[USP_SYSTEMTASKTYPEWORKCLASS_DELETE_BYPARENTID] @PERMITTYPEID, @PMPERMITTYPEWORKCLASSID

DELETE FROM [dbo].[PMPERMITTYPEWORKCLASS]
WHERE
	[PMPERMITTYPEWORKCLASSID] = @PMPERMITTYPEWORKCLASSID