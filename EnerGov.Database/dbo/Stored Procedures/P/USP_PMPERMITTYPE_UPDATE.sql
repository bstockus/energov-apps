CREATE PROCEDURE [dbo].[USP_PMPERMITTYPE_UPDATE]
(
	@PMPERMITTYPEID CHAR(36),
	@PMPERMITTYPEGROUPID CHAR(36),
	@NAME NVARCHAR(50),
	@DAYSUNTILEXPIRE INT,
	@ACTIVE BIT,
	@UNLIMITED BIT,
	@PERMITPREFIX NVARCHAR(20),
	@AUTONUMBER BIT,
	@LASTNUMBER INT,
	@REPORTNAME NVARCHAR(100),
	@COREPORTNAME NVARCHAR(100),
	@COCREPORTNAME NVARCHAR(100),
	@PERMITCARDREPORTNAME NVARCHAR(100),
	@ALLOWINTERNETSUBMISSION BIT,
	@COPREFIX NVARCHAR(20),
	@REQUIREDPLPLANTYPEID CHAR(36),
	@PLANCOMPLETIONBEFOREISSUE BIT,
	@PLANCOMPLETIONBEFORECO BIT,
	@COMMERCIAL BIT,
	@RESIDENTIAL BIT,
	@DAYSUNTILEXPIREFROMLASTINSPECT INT,
	@ALLOWISSUEOPENINVOICE BIT,
	@ALLOWISSUEUNSATISFIEDCONDITION BIT,
	@SCHEDULEINSPECTWITHOUTISSUED BIT,
	@SCHEDULEINSPECTWITHOPENINVOICE BIT,
	@NOTIFYUSERPERMITONPARCEL BIT,
	@DEFAULTPMPERMITSTATUSID CHAR(36),
	@TABLENAME NVARCHAR(100),
	@FRIENDLYNAME NVARCHAR(150),
	@VALUATION BIT,
	@SQUAREFEET BIT,
	@DEFAULTWEBPMPERMITSTATUSID CHAR(36),
	@USEPREFIXASSUFFIX BIT,
	@VALIDATESAGSTCERT BIT,
	@VALIDATESAGSTPROFILE BIT,
	@ALLOWOBJECTASSOCIATION BIT,
	@USECASETYPENUMBERING BIT,
	@ASSIGNEDUSER CHAR(36),
	@LASTCHANGEDBY CHAR(36),
	@LASTCHANGEDON DATETIME,
	@ROWVERSION INT,
	@PMPERMITTYPECSSUPLOADSETTINGTYPEID INT
)
AS
DECLARE @OUTPUTTABLE as TABLE([ROWVERSION]  int)
UPDATE [dbo].[PMPERMITTYPE] SET
	[PMPERMITTYPEGROUPID] = @PMPERMITTYPEGROUPID,
	[NAME] = @NAME,
	[DAYSUNTILEXPIRE] = @DAYSUNTILEXPIRE,
	[ACTIVE] = @ACTIVE,
	[UNLIMITED] = @UNLIMITED,
	[PERMITPREFIX] = @PERMITPREFIX,
	[AUTONUMBER] = @AUTONUMBER,
	[LASTNUMBER] = @LASTNUMBER,
	[REPORTNAME] = @REPORTNAME,
	[COREPORTNAME] = @COREPORTNAME,
	[COCREPORTNAME] = @COCREPORTNAME,
	[PERMITCARDREPORTNAME] = @PERMITCARDREPORTNAME,
	[ALLOWINTERNETSUBMISSION] = @ALLOWINTERNETSUBMISSION,
	[COPREFIX] = @COPREFIX,
	[REQUIREDPLPLANTYPEID] = @REQUIREDPLPLANTYPEID,
	[PLANCOMPLETIONBEFOREISSUE] = @PLANCOMPLETIONBEFOREISSUE,
	[PLANCOMPLETIONBEFORECO] = @PLANCOMPLETIONBEFORECO,
	[COMMERCIAL] = @COMMERCIAL,
	[RESIDENTIAL] = @RESIDENTIAL,
	[DAYSUNTILEXPIREFROMLASTINSPECT] = @DAYSUNTILEXPIREFROMLASTINSPECT,
	[ALLOWISSUEOPENINVOICE] = @ALLOWISSUEOPENINVOICE,
	[ALLOWISSUEUNSATISFIEDCONDITION] = @ALLOWISSUEUNSATISFIEDCONDITION,
	[SCHEDULEINSPECTWITHOUTISSUED] = @SCHEDULEINSPECTWITHOUTISSUED,
	[SCHEDULEINSPECTWITHOPENINVOICE] = @SCHEDULEINSPECTWITHOPENINVOICE,
	[NOTIFYUSERPERMITONPARCEL] = @NOTIFYUSERPERMITONPARCEL,
	[DEFAULTPMPERMITSTATUSID] = @DEFAULTPMPERMITSTATUSID,
	[TABLENAME] = @TABLENAME,
	[FRIENDLYNAME] = @FRIENDLYNAME,
	[VALUATION] = @VALUATION,
	[SQUAREFEET] = @SQUAREFEET,
	[DEFAULTWEBPMPERMITSTATUSID] = @DEFAULTWEBPMPERMITSTATUSID,
	[USEPREFIXASSUFFIX] = @USEPREFIXASSUFFIX,
	[VALIDATESAGSTCERT] = @VALIDATESAGSTCERT,
	[VALIDATESAGSTPROFILE] = @VALIDATESAGSTPROFILE,
	[ALLOWOBJECTASSOCIATION] = @ALLOWOBJECTASSOCIATION,
	[USECASETYPENUMBERING] = @USECASETYPENUMBERING,
	[ASSIGNEDUSER] = @ASSIGNEDUSER,
	[LASTCHANGEDBY] = @LASTCHANGEDBY,
	[LASTCHANGEDON] = @LASTCHANGEDON,
	[ROWVERSION] = @ROWVERSION + 1,
	[PMPERMITTYPECSSUPLOADSETTINGTYPEID] = @PMPERMITTYPECSSUPLOADSETTINGTYPEID
OUTPUT inserted.[ROWVERSION] INTO @OUTPUTTABLE
WHERE
	[PMPERMITTYPEID] = @PMPERMITTYPEID AND 
	[ROWVERSION]= @ROWVERSION

SELECT * FROM @OUTPUTTABLE