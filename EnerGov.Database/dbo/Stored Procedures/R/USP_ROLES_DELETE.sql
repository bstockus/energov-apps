CREATE PROCEDURE [dbo].[USP_ROLES_DELETE]
(
	@SROLEGUID CHAR(36),
	@ROWVERSION INT
)
AS

SET NOCOUNT ON;

EXEC [dbo].[USP_ROLEFORMSXREF_DELETE_BYPARENTID] @SROLEGUID
EXEC [dbo].[USP_ROLESUBMENUXREF_DELETE_BYPARENTID] @SROLEGUID
EXEC [dbo].[USP_ROLEMENUXREF_DELETE_BYPARENTID] @SROLEGUID
EXEC [dbo].[USP_ROLESROLESSETTING_DELETE_BYUSERROLEID] @SROLEGUID
EXEC [dbo].[USP_ROLEBILLINGRATEXREF_DELETE_BYPARENTID] @SROLEGUID
EXEC [dbo].[USP_ATTACHMENTGROUPROLEXREF_DELETE_BYPARENTID] @SROLEGUID
EXEC [dbo].[USP_ROLEPAYMENTMETHODXREF_DELETE_BYUSERROLEID] @SROLEGUID
EXEC [dbo].[USP_COHIDDENCONTACTTYPE_DELETE_BYPARENTID] @SROLEGUID
EXEC [dbo].[USP_ROLESCUSTOMFIELDS_DELETE_BYPARENTID] @SROLEGUID
EXEC [dbo].[USP_ROLERECORDTYPEXREF_DELETE_BYUSERROLEID] @SROLEGUID

SET NOCOUNT OFF;

DELETE FROM [dbo].[ROLES]
WHERE
	[SROLEGUID] = @SROLEGUID AND 
	[ROWVERSION]= @ROWVERSION