
CREATE PROCEDURE [dbo].[rpt_CM_SR_Code_Case_Detailed_Report_Contact]
@CMCODECASEID AS VARCHAR(36)
AS
SELECT CMCODECASECONTACT.GLOBALENTITYID, CMCODECASECONTACTTYPE.NAME AS CONTACTTYPE, GLOBALENTITY.GLOBALENTITYNAME, GLOBALENTITY.FIRSTNAME, 
       GLOBALENTITY.LASTNAME, MAILINGADDRESS.ADDRESSLINE1, MAILINGADDRESS.ADDRESSLINE2, MAILINGADDRESS.ADDRESSLINE3, MAILINGADDRESS.CITY, MAILINGADDRESS.STATE, 
       MAILINGADDRESS.POSTALCODE, MAILINGADDRESS.POSTDIRECTION, MAILINGADDRESS.PREDIRECTION, MAILINGADDRESS.STREETTYPE, MAILINGADDRESS.ADDRESSTYPE, 
       MAILINGADDRESS.UNITORSUITE, GLOBALENTITY.BUSINESSPHONE, GLOBALENTITY.HOMEPHONE, GLOBALENTITY.MOBILEPHONE,
	   MAILINGADDRESS.POBOX, MAILINGADDRESS.RURALROUTE, MAILINGADDRESS.STATION, MAILINGADDRESS.PROVINCE, MAILINGADDRESS.COUNTRY, MAILINGADDRESS.ATTN,
	   MACT.MAILINGADDRESSCOUNTRYTYPENAME
FROM CMCODECASECONTACT 
INNER JOIN GLOBALENTITY ON CMCODECASECONTACT.GLOBALENTITYID = GLOBALENTITY.GLOBALENTITYID 
INNER JOIN CMCODECASECONTACTTYPE ON CMCODECASECONTACT.CMCODECASECONTACTTYPEID = CMCODECASECONTACTTYPE.CMCODECASECONTACTTYPEID 
LEFT OUTER JOIN GLOBALENTITYMAILINGADDRESS ON GLOBALENTITY.GLOBALENTITYID = GLOBALENTITYMAILINGADDRESS.GLOBALENTITYID
LEFT OUTER JOIN MAILINGADDRESS ON GLOBALENTITYMAILINGADDRESS.MAILINGADDRESSID = MAILINGADDRESS.MAILINGADDRESSID
LEFT OUTER JOIN MAILINGADDRESSCOUNTRYTYPE MACT ON MAILINGADDRESS.COUNTRYTYPE = MACT.MAILINGADDRESSCOUNTRYTYPEID
WHERE CMCODECASECONTACT.CMCODECASEID = @CMCODECASEID

