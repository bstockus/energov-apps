
CREATE PROCEDURE [dbo].[GETERPORTALERFILEVERSIONLIST]
-- Add the parameters for the stored procedure here
@ERProjectFileID char(36)	
AS
BEGIN		
	SELECT	DISTINCT ERPROJECTFILEVERSION.ERPROJECTFILEVERSIONID,
			ERPROJECTFILEVERSION.ERPROJECTFILEID,				
			ERPROJECTFILEVERSION.ERPROJECTFILESTATUSID,
			ERPROJECTFILESTATUS.ERPROJECTFILESYSTEMSTATUSID,
			ERPROJECTFILESTATUS.NAME AS STATUSNAME,
			ERPROJECTFILEVERSION.SAVEFILENAME,
			ERPROJECTFILEVERSION.LATEST,
			ERPROJECTFILEVERSION.LOCKED,
			ERPROJECTFILEVERSION.SUBMITTED,
			ERPROJECTFILEVERSION.FILEVERSION,
			ERPROJECTFILEVERSION.CREATEDATE,
			ERPROJECTFILEVERSION.ROWVERSION,
			ERPROJECTFILEVERSION.ALLOWVIEWCORRECTION,
			ERPROJECTFILESTATUS.NAME AS STATUSNAME
	FROM ERPROJECTFILEVERSION	
	INNER JOIN ERPROJECTFILESTATUS ON ERPROJECTFILESTATUS.ERPROJECTFILESTATUSID = ERPROJECTFILEVERSION.ERPROJECTFILESTATUSID
	WHERE ERPROJECTFILEVERSION.ERPROJECTFILEID = @ERProjectFileID AND ERPROJECTFILEVERSION.MARKDELETE = 0
	ORDER BY ERPROJECTFILEVERSION.FILEVERSION ASC
END	
