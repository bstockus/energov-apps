	--SELECT @AssignedUserID='2FB39FA9-DF43-41D7-BB8B-C91836D30987'
	--SELECT @RoleId ='A652344C-FDB0-4116-A63B-126FFCAF2B2D'
CREATE PROCEDURE GETMYMOBILECODECASE
	-- Add the parameters for the stored procedure here
	@codeCaseID char(36)
	AS
	BEGIN	
SELECT	DISTINCT 
		CMCODECASE.ROWVERSION,
		CMCODECASE. CMCODECASEID,
		CASENUMBER,
		CMCODECASE.CMCODECASESTATUSID STATUSID,
		CMCODECASESTATUS.NAME STATUSNAME,
		OPENEDDATE,
		CLOSEDDATE,
		CMCODECASE.DESCRIPTION,
		CMCODECASE.ASSIGNEDTO,
		USERS.FNAME FIRSTNAME,
		USERS.LNAME LASTNAME,
		CMCODECASE.CMCASETYPEID,
		CMCASETYPE.NAME TYPENAME,
		CMCODECASE.DISTRICTID,
		DISTRICT.NAME DISTRICTNAME,
		PRPROJECT.NAME PROJECTNAME,
		PRPROJECT.PROJECTNUMBER,
		PRPROJECT.PRPROJECTID	
		 FROM CMCODECASE 
		LEFT JOIN USERS ON USERS.SUSERGUID = CMCODECASE.ASSIGNEDTO	
		INNER JOIN CMCODECASESTATUS ON CMCODECASESTATUS.CMCODECASESTATUSID = CMCODECASE.CMCODECASESTATUSID
		INNER JOIN CMCASETYPE ON CMCASETYPE.CMCASETYPEID = CMCODECASE.CMCASETYPEID
		INNER JOIN DISTRICT ON DISTRICT.DISTRICTID = CMCODECASE.DISTRICTID
		LEFT JOIN PRPROJECTCODECASE ON PRPROJECTCODECASE.CMCODECASEID = CMCODECASE.CMCODECASEID
		LEFT JOIN PRPROJECT ON PRPROJECT.PRPROJECTID = PRPROJECTCODECASE.PRPROJECTID
		WHERE CMCODECASE.CMCODECASEID = @codeCaseID ORDER BY CMCODECASE.CASENUMBER
END

