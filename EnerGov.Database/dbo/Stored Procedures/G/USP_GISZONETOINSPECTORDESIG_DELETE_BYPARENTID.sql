CREATE PROCEDURE [dbo].[USP_GISZONETOINSPECTORDESIG_DELETE_BYPARENTID]
(
	@PARENTID CHAR(36)
)
AS

DECLARE @ZONEEXTERNALVALUELIST as TABLE ([ID] CHAR(36))

INSERT INTO @ZONEEXTERNALVALUELIST 
SELECT  [GISZONEEXTERNALVALUEID]  
FROM	[dbo].[GISZONEEXTERNALVALUE] 
WHERE	[GISZONEMAPPINGID] = @PARENTID

DELETE	GISZONETOINSPECTORDESIG 
FROM	[dbo].[GISZONETOINSPECTORDESIG] GISZONETOINSPECTORDESIG
		INNER JOIN @ZONEEXTERNALVALUELIST ZONEEXTERNALVALUELIST ON GISZONETOINSPECTORDESIG.GISZONEEXTERNALVALUEID = ZONEEXTERNALVALUELIST.ID