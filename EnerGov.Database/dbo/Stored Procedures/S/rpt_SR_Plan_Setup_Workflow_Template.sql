

CREATE PROCEDURE [dbo].[rpt_SR_Plan_Setup_Workflow_Template]
@PLPLANTYPEID AS VARCHAR(36)
AS
SELECT     PLPLANWORKCLASS.NAME AS WorkClass, WFTEMPLATE.NAME AS WorkflowTemplate, WFSTEP.NAME AS WorkflowStep, 
                      WFTEMPLATESTEP.PRIORITYORDER AS StepPriority, WFTEMPLATESTEP.SORTORDER AS StepSort, WFACTION.NAME AS WorkflowAction, 
                      WFTEMPLATESTEPACTION.PRIORITYORDER AS ActionPriority, WFTEMPLATESTEPACTION.SORTORDER AS ActionSort, WFTEMPLATESTEP.AUTOFILL AS StepAutoFill,
                       WFTEMPLATESTEPACTION.AUTOFILL AS ActionAutoFill, WFTEMPLATESTEPACTION.AUTORECEIVE AS ActionAutoReceive
FROM         WFACTION INNER JOIN
                      WFTEMPLATESTEPACTION ON WFACTION.WFACTIONID = WFTEMPLATESTEPACTION.WFACTIONID RIGHT OUTER JOIN
                      WFSTEP INNER JOIN
                      WFTEMPLATESTEP ON WFSTEP.WFSTEPID = WFTEMPLATESTEP.WFSTEPID INNER JOIN
                      PLPLANWORKCLASS INNER JOIN
                      PLPLANTYPEWORKCLASS INNER JOIN
                      WFTEMPLATE ON PLPLANTYPEWORKCLASS.WFTEMPLATEID = WFTEMPLATE.WFTEMPLATEID ON 
                      PLPLANWORKCLASS.PLPLANWORKCLASSID = PLPLANTYPEWORKCLASS.PLPLANWORKCLASSID ON 
                      WFTEMPLATESTEP.WFTEMPLATEID = WFTEMPLATE.WFTEMPLATEID ON 
                      WFTEMPLATESTEPACTION.WFTEMPLATESTEPID = WFTEMPLATESTEP.WFTEMPLATESTEPID
WHERE PLPLANTYPEWORKCLASS.PLPLANTYPEID = @PLPLANTYPEID

