
CREATE PROCEDURE [dbo].[rpt_SR_Permit_Setup_Workflow_Template]
@PMPERMITTYPEID AS VARCHAR(36)
AS
SELECT     PMPERMITWORKCLASS.NAME AS WorkClass, WFTEMPLATE.NAME AS WorkflowTemplate, WFSTEP.NAME AS WorkflowStep, 
                      WFTEMPLATESTEP.PRIORITYORDER AS StepPriority, WFTEMPLATESTEP.SORTORDER AS StepSort, WFACTION.NAME AS WorkflowAction, 
                      WFTEMPLATESTEPACTION.PRIORITYORDER AS ActionPriority, WFTEMPLATESTEPACTION.SORTORDER AS ActionSort, WFTEMPLATESTEP.AUTOFILL AS StepAutoFill,
                       WFTEMPLATESTEPACTION.AUTOFILL AS ActionAutoFill, WFTEMPLATESTEPACTION.AUTORECEIVE AS ActionAutoReceive
FROM         WFACTION INNER JOIN
                      WFTEMPLATESTEPACTION ON WFACTION.WFACTIONID = WFTEMPLATESTEPACTION.WFACTIONID RIGHT OUTER JOIN
                      WFSTEP INNER JOIN
                      WFTEMPLATESTEP ON WFSTEP.WFSTEPID = WFTEMPLATESTEP.WFSTEPID INNER JOIN
                      PMPERMITWORKCLASS INNER JOIN
                      PMPERMITTYPEWORKCLASS INNER JOIN
                      WFTEMPLATE ON PMPERMITTYPEWORKCLASS.WFTEMPLATEID = WFTEMPLATE.WFTEMPLATEID ON 
                      PMPERMITWORKCLASS.PMPERMITWORKCLASSID = PMPERMITTYPEWORKCLASS.PMPERMITWORKCLASSID ON 
                      WFTEMPLATESTEP.WFTEMPLATEID = WFTEMPLATE.WFTEMPLATEID ON 
                      WFTEMPLATESTEPACTION.WFTEMPLATESTEPID = WFTEMPLATESTEP.WFTEMPLATESTEPID
WHERE PMPERMITTYPEWORKCLASS.PMPERMITTYPEID = @PMPERMITTYPEID
