

CREATE PROCEDURE [dbo].[rpt_SR_SR_Plan_Setup_WorkClass]
@PLPLANTYPE AS VARCHAR(36)
AS
SELECT PLPLANWORKCLASS.NAME AS WorkClass, WFTEMPLATE.NAME AS WorkflowTemplate, CUSTOMFIELDLAYOUT_1.SNAME AS CustomFieldLayout, 
       CUSTOMFIELDLAYOUT.SNAME AS OnlineCustomFieldLayout, CAFEETEMPLATE.CAFEETEMPLATENAME AS FeeTemplate, 
       PLPLANTYPEWORKCLASS.INTERNETFLAG
FROM PLPLANTYPEWORKCLASS 
INNER JOIN PLPLANWORKCLASS ON PLPLANTYPEWORKCLASS.PLPLANWORKCLASSID = PLPLANWORKCLASS.PLPLANWORKCLASSID 
LEFT OUTER JOIN CAFEETEMPLATE ON PLPLANTYPEWORKCLASS.CAFEETEMPLATEID = CAFEETEMPLATE.CAFEETEMPLATEID 
LEFT OUTER JOIN WFTEMPLATE ON PLPLANTYPEWORKCLASS.WFTEMPLATEID = WFTEMPLATE.WFTEMPLATEID
LEFT OUTER JOIN CUSTOMFIELDLAYOUT ON PLPLANTYPEWORKCLASS.ONLINECUSTOMFIELDLAYOUTID = CUSTOMFIELDLAYOUT.GCUSTOMFIELDLAYOUTS 
LEFT OUTER JOIN CUSTOMFIELDLAYOUT AS CUSTOMFIELDLAYOUT_1 ON PLPLANTYPEWORKCLASS.CUSTOMFIELDLAYOUTID = CUSTOMFIELDLAYOUT_1.GCUSTOMFIELDLAYOUTS 
WHERE PLPLANTYPEWORKCLASS.PLPLANTYPEID = @PLPLANTYPE

