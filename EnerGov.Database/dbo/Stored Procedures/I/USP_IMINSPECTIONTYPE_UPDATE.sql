CREATE PROCEDURE [dbo].[USP_IMINSPECTIONTYPE_UPDATE]
(
	@IMINSPECTIONTYPEID CHAR(36),
	@IMINSPECTIONTYPEGROUPID CHAR(36),
	@DEPARTMENTID CHAR(36),
	@NAME NVARCHAR(50),
	@DESCRIPTION NVARCHAR(MAX),
	@IVRNUMBER NVARCHAR(5),
	@ESTIMATEDMINUTES DECIMAL(18,4),
	@PRIORITYNUMBER INT,
	@GCUSTOMFIELDLAYOUTS CHAR(36),
	@IMINSPECTIONSTATUSID CHAR(36),
	@PREFIX NVARCHAR(10),
	@MOBILEGOVDEFAULTRPTID CHAR(36),
	@GISZONEMAPPINGID CHAR(36),
	@EXTEND_DATE BIT,
	@IMINSPECTIONSCHEDULETYPEID CHAR(36),
	@IMINSPECTIONGISASSIGNMENTID INT,
	@GONLINECUSTOMFIELDLAYOUTS CHAR(36),
	@CAFEETEMPLATEID CHAR(36),
	@COPYCHECKLISTINFO BIT,
	@ISLIMITEXEMPT BIT,
	@REINSPECTWAITTIME INT,
	@ENTITYPROPERTY NVARCHAR(MAX),
	@PROPERTYFRIENDLYNAME NVARCHAR(MAX),
	@IMINSPECTIONLINKID INT,
	@ISNONCOMPLIANCETRACKED BIT,
	@ALLOWCAPNONCOMPLANCESUBMISSION BIT,
	@DESCRIPTION_SPANISH NVARCHAR(MAX),
	@ALLOWPUBLICREQUESTS BIT,
	@IMINSPECTIONCALENDARID CHAR(36),
	@ISALLOWCODECASEFROMMOBILE BIT,
	@RECURRENCEID CHAR(36),
	@LASTCHANGEDBY CHAR(36),
	@LASTCHANGEDON DATETIME,
	@ROWVERSION INT
)
AS
DECLARE @OUTPUTTABLE as TABLE([ROWVERSION]  int)
UPDATE [dbo].[IMINSPECTIONTYPE] SET
	[IMINSPECTIONTYPEGROUPID] = @IMINSPECTIONTYPEGROUPID,
	[DEPARTMENTID] = @DEPARTMENTID,
	[NAME] = @NAME,
	[DESCRIPTION] = @DESCRIPTION,
	[IVRNUMBER] = @IVRNUMBER,
	[ESTIMATEDMINUTES] = @ESTIMATEDMINUTES,
	[PRIORITYNUMBER] = @PRIORITYNUMBER,
	[GCUSTOMFIELDLAYOUTS] = @GCUSTOMFIELDLAYOUTS,
	[IMINSPECTIONSTATUSID] = @IMINSPECTIONSTATUSID,
	[PREFIX] = @PREFIX,
	[MOBILEGOVDEFAULTRPTID] = @MOBILEGOVDEFAULTRPTID,
	[GISZONEMAPPINGID] = @GISZONEMAPPINGID,
	[EXTEND_DATE] = @EXTEND_DATE,
	[IMINSPECTIONSCHEDULETYPEID] = @IMINSPECTIONSCHEDULETYPEID,
	[IMINSPECTIONGISASSIGNMENTID] = @IMINSPECTIONGISASSIGNMENTID,
	[GONLINECUSTOMFIELDLAYOUTS] = @GONLINECUSTOMFIELDLAYOUTS,
	[CAFEETEMPLATEID] = @CAFEETEMPLATEID,
	[COPYCHECKLISTINFO] = @COPYCHECKLISTINFO,
	[ISLIMITEXEMPT] = @ISLIMITEXEMPT,
	[REINSPECTWAITTIME] = @REINSPECTWAITTIME,
	[ENTITYPROPERTY] = @ENTITYPROPERTY,
	[PROPERTYFRIENDLYNAME] = @PROPERTYFRIENDLYNAME,
	[IMINSPECTIONLINKID] = @IMINSPECTIONLINKID,
	[ISNONCOMPLIANCETRACKED] = @ISNONCOMPLIANCETRACKED,
	[ALLOWCAPNONCOMPLANCESUBMISSION] = @ALLOWCAPNONCOMPLANCESUBMISSION,
	[DESCRIPTION_SPANISH] = @DESCRIPTION_SPANISH,
	[ALLOWPUBLICREQUESTS] = @ALLOWPUBLICREQUESTS,
	[IMINSPECTIONCALENDARID] = @IMINSPECTIONCALENDARID,
	[ISALLOWCODECASEFROMMOBILE] = @ISALLOWCODECASEFROMMOBILE,
	[RECURRENCEID] = @RECURRENCEID,
	[LASTCHANGEDBY] = @LASTCHANGEDBY,
	[LASTCHANGEDON] = @LASTCHANGEDON,
	[ROWVERSION] = @ROWVERSION + 1
OUTPUT inserted.[ROWVERSION] INTO @OUTPUTTABLE
WHERE
	[IMINSPECTIONTYPEID] = @IMINSPECTIONTYPEID AND 
	[ROWVERSION]= @ROWVERSION

SELECT * FROM @OUTPUTTABLE