CREATE PROCEDURE [dbo].[USP_IMINSPECTIONCALENDAR_DELETE]
(
	@IMINSPECTIONCALENDARID CHAR(36),
	@ROWVERSION INT
)
AS
BEGIN
SET NOCOUNT ON;

	EXEC [dbo].[USP_IMINSPECTIONCALWORKWEEK_DELETE_BYPARENTID] @IMINSPECTIONCALENDARID
	EXEC [dbo].[USP_IMINSPECTIONCALAMPM_DELETE_BYPARENTID] @IMINSPECTIONCALENDARID
	EXEC [dbo].[USP_IMINSPECTIONCALHOLIDAY_DELETE_BYPARENTID] @IMINSPECTIONCALENDARID
	
SET NOCOUNT OFF;

DELETE FROM [dbo].[IMINSPECTIONCALENDAR]
WHERE
	[IMINSPECTIONCALENDARID] = @IMINSPECTIONCALENDARID AND 
	[ROWVERSION]= @ROWVERSION
END