CREATE PROCEDURE [dbo].[USP_ILLICENSEREQUIREDFIELD_DELETE_BYPARENTID]
(
@ILLICENSETYPEID CHAR(36)='',
@ILLICENSETYPELICENSECLASSID CHAR(36)=NULL
)
AS

DELETE [dbo].[ILLICENSEREQUIREDFIELD] FROM [dbo].[ILLICENSEREQUIREDFIELD]
INNER JOIN [dbo].[ILLICENSETYPELICENSECLASS] ON [dbo].[ILLICENSEREQUIREDFIELD].[ILLICENSETYPELICENSECLASSID] = [dbo].[ILLICENSETYPELICENSECLASS].[ILLICENSETYPELICENSECLASSID]
WHERE
[dbo].[ILLICENSETYPELICENSECLASS].[ILLICENSETYPEID] = @ILLICENSETYPEID 
AND (@ILLICENSETYPELICENSECLASSID IS NULL OR [dbo].[ILLICENSETYPELICENSECLASS].[ILLICENSECLASSIFICATIONID] = @ILLICENSETYPELICENSECLASSID)