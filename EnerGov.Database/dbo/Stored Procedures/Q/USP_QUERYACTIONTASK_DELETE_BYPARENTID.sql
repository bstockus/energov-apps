CREATE PROCEDURE [dbo].[USP_QUERYACTIONTASK_DELETE_BYPARENTID]
(
	@QUERYID CHAR(36),
    @QUERYACTIONID CHAR(36)
)
AS
DELETE [dbo].[QUERYACTIONTASK] FROM [dbo].[QUERYACTIONTASK]
INNER JOIN [dbo].[QUERYACTION] ON [dbo].[QUERYACTIONTASK].[QUERYACTIONID] =  [dbo].[QUERYACTION].[QUERYACTIONID]
WHERE
    (@QUERYID IS NULL OR [dbo].[QUERYACTION].[QUERYID] = @QUERYID) 
    AND (@QUERYACTIONID IS NULL OR [dbo].[QUERYACTIONTASK].[QUERYACTIONID] = @QUERYACTIONID)