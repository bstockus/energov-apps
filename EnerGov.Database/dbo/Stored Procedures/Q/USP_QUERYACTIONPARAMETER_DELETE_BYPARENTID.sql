CREATE PROCEDURE [dbo].[USP_QUERYACTIONPARAMETER_DELETE_BYPARENTID]
(
    @QUERYID CHAR(36),
    @QUERYACTIONID CHAR(36)
)
AS
DELETE [dbo].[QUERYACTIONPARAMETER] FROM [dbo].[QUERYACTIONPARAMETER]
	INNER JOIN [dbo].[QUERYACTION] 
	ON [dbo].[QUERYACTIONPARAMETER].[QUERYACTIONID] = [dbo].[QUERYACTION].[QUERYACTIONID]
    WHERE (@QUERYID IS NULL OR [dbo].[QUERYACTION].[QUERYID]= @QUERYID) 
    AND (@QUERYACTIONID IS NULL OR [dbo].[QUERYACTIONPARAMETER].[QUERYACTIONID] = @QUERYACTIONID)