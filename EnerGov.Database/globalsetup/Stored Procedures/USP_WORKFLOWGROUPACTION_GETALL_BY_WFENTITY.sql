CREATE PROCEDURE [globalsetup].[USP_WORKFLOWGROUPACTION_GETALL_BY_WFENTITY]
(
@WFENTITYID AS INT
)
AS
BEGIN
	SET NOCOUNT ON;
	SELECT
		[dbo].[WFACTION].[WFACTIONID],
		[dbo].[WFACTION].[NAME],
		[dbo].[WFACTION].[DESCRIPTION],
		[dbo].[WFACTION].[WFACTIONTYPEID],
		[dbo].[WFACTIONTYPE].[NAME] AS WORKFLOWACTIONTYPENAME,
		[dbo].[WFACTIONGROUPACTIONXREF].[PRIORITYORDER],
		[dbo].[WFACTIONGROUPACTIONXREF].[SORTORDER],
		[dbo].[WFACTIONGROUPACTIONXREF].[AUTOFILL],
		[dbo].[WFACTIONGROUPACTIONXREF].[AUTORECEIVE],
		[dbo].[WFACTIONGROUP].[WFSTEPTYPEID]
	FROM 
		[dbo].[WFACTIONGROUP] 
	INNER JOIN 
		[dbo].[WFACTIONGROUPACTIONXREF] ON WFACTIONGROUPACTIONXREF.WFACTIONGROUPID = WFACTIONGROUP.WFACTIONGROUPID
	INNER JOIN 
		[dbo].[WFACTION] ON WFACTION.WFACTIONID = WFACTIONGROUPACTIONXREF.WFACTIONID
	INNER JOIN 
		[dbo].[WFACTIONTYPE] ON WFACTIONTYPE.WFACTIONTYPEID = WFACTION.WFACTIONTYPEID 
	WHERE 
		[dbo].[WFACTIONGROUP].[WFENTITYID] = @WFENTITYID
	ORDER BY [dbo].[WFACTION].[NAME] ASC
END