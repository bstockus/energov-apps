CREATE PROCEDURE [globalsetup].[USP_CUSTOMFIELDPICKLISTITEM_GETBYCUSTOMFIELDCOLUMNTEMPLATEID]
(
	@CUSTOMFIELDCOLUMNTEMPLATEID CHAR(36)
)
AS
BEGIN

	SET NOCOUNT ON;
	SELECT 
		[dbo].[CUSTOMFIELDPICKLISTITEM].[GCUSTOMFIELDPICKLISTITEM],
		[dbo].[CUSTOMFIELDPICKLISTITEM].[FKGCUSTOMFIELDPICKLIST],
		[dbo].[CUSTOMFIELDPICKLISTITEM].[SVALUE],
		[dbo].[CUSTOMFIELDPICKLISTITEM].[IORDER],
		[dbo].[CUSTOMFIELDPICKLISTITEM].[ISRETIRE],
		[dbo].[CUSTOMFIELDPICKLISTITEM].[FKCUSTOMFIELDTEMPLATEITEM],
		[dbo].[CUSTOMFIELDTEMPLATEITEM].[SVALUE] AS TEMPLATE_VALUE
	FROM [dbo].[CUSTOMFIELDPICKLISTITEM]
			INNER JOIN [dbo].[CUSTOMFIELDPICKLIST] 
					ON [dbo].[CUSTOMFIELDPICKLIST].[GCUSTOMFIELDPICKLIST] = [dbo].[CUSTOMFIELDPICKLISTITEM].[FKGCUSTOMFIELDPICKLIST]
			INNER JOIN [dbo].[CUSTOMFIELDCOLUMNTEMPLATE] 
					ON [dbo].[CUSTOMFIELDCOLUMNTEMPLATE].[GCUSTOMFIELD] = [dbo].[CUSTOMFIELDPICKLIST].[FKGCUSTOMFIELD]			
			LEFT JOIN  [dbo].[CUSTOMFIELDTEMPLATEITEM]
					ON [dbo].[CUSTOMFIELDPICKLISTITEM].[FKCUSTOMFIELDTEMPLATEITEM] = [dbo].[CUSTOMFIELDTEMPLATEITEM].[GCUSTOMFIELDTEMPLATEITEM]
	WHERE [dbo].[CUSTOMFIELDCOLUMNTEMPLATE].[CUSTOMFIELDCOLUMNTEMPLATEID] = @CUSTOMFIELDCOLUMNTEMPLATEID
	ORDER BY [dbo].[CUSTOMFIELDPICKLISTITEM].[IORDER]

END