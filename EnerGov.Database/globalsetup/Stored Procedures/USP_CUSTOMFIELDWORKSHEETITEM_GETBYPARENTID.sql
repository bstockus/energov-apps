CREATE PROCEDURE [globalsetup].[USP_CUSTOMFIELDWORKSHEETITEM_GETBYPARENTID]
(
	@FKGCUSTOMFIELDLAYOUT CHAR(36)
)
AS
BEGIN
	SET NOCOUNT ON;
	SELECT 
		[dbo].[CUSTOMFIELDWORKSHEETITEM].[GCUSTOMFIELDWORKSHEETITEM],
		[dbo].[CUSTOMFIELDWORKSHEETITEM].[FKGCUSTOMFIELDWORKSHEET],
		[dbo].[CUSTOMFIELDWORKSHEETITEM].[SVALUE],
		[dbo].[CUSTOMFIELDWORKSHEETITEM].[IORDER]
	FROM [dbo].[CUSTOMFIELDWORKSHEETITEM]
	INNER JOIN [dbo].[CUSTOMFIELDWORKSHEET] ON [dbo].[CUSTOMFIELDWORKSHEET].[GCUSTOMFIELDWORKSHEET] = [dbo].[CUSTOMFIELDWORKSHEETITEM].[FKGCUSTOMFIELDWORKSHEET]
	INNER JOIN [dbo].[CUSTOMFIELD] ON [dbo].[CUSTOMFIELD].[GCUSTOMFIELD] = [dbo].[CUSTOMFIELDWORKSHEET].[FKGCUSTOMFIELD]
	INNER JOIN [dbo].[CUSTOMFIELDOBJECT] ON [dbo].[CUSTOMFIELDOBJECT].[GCUSTOMFIELD] = [dbo].[CUSTOMFIELD].[GCUSTOMFIELD]
	WHERE
		[dbo].[CUSTOMFIELDOBJECT].[FKGCUSTOMFIELDLAYOUT] = @FKGCUSTOMFIELDLAYOUT  
	ORDER BY
		[dbo].[CUSTOMFIELDWORKSHEETITEM].[IORDER]
END