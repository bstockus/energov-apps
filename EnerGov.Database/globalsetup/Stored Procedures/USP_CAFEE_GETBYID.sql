CREATE PROCEDURE [globalsetup].[USP_CAFEE_GETBYID]
(
	@CAFEEID CHAR(36)
)
AS
BEGIN
    SET NOCOUNT ON;
    SELECT 
            [dbo].[CAFEE].[CAFEEID],
            [dbo].[CAFEE].[NAME],
            [dbo].[CAFEE].[DESCRIPTION],
            [dbo].[CAFEE].[ACTIVE],
            [dbo].[CAFEE].[ROWVERSION],
            [dbo].[CAFEE].[LASTCHANGEDON],
            [dbo].[CAFEE].[LASTCHANGEDBY],        
            [dbo].[CAFEE].[CACOMPUTATIONTYPEID],
            [dbo].[CAFEE].[NOTES],
            [dbo].[CAFEE].[ISTIMETRACKING],
            [dbo].[CAFEE].[ISTAXFEE],
            [dbo].[CAFEE].[ISCPIFEE],
            [dbo].[CAFEE].[ISPRORATEFEE],
            [dbo].[CAFEE].[ISARFEE],
            [dbo].[CAFEE].[ARCREDITACCOUNTID],
            [dbo].[CAFEE].[ARDEBITACCOUNTID],
            [dbo].[CAFEE].[ARFEECODE],
            [dbo].[CAFEE].[SETTLEMENTCODE],
            [dbo].[CAFEE].[APPLYPRORATIONONRENEWAL],
            [dbo].[CAFEE].[ISSUBJECTTOEXTERNALINVOICE],
            [dbo].[CAFEE].[DAYSUNTILEXTERNALINVOICEEXPORT],
            [dbo].[CAFEE].[ISEXEMPTFROMFEEWAIVER],
            [dbo].[CAFEE].[JURISDICTIONID],
            [dbo].[CAFEE].[ISCOMPOUNDINGINTERESTFEE],
			[ARCREDITGLACCOUNT].[NAME] AS ARCREDITACCOUNTNAME,
			[ARDEBITGLACCOUNT].[NAME] AS ARDEBITACCOUNTNAME
    FROM    [dbo].[CAFEE]
			LEFT JOIN [dbo].[GLACCOUNT] [ARCREDITGLACCOUNT] ON [ARCREDITGLACCOUNT].[GLACCOUNTID] = [dbo].[CAFEE].[ARCREDITACCOUNTID]
			LEFT JOIN [dbo].[GLACCOUNT] [ARDEBITGLACCOUNT] ON [ARDEBITGLACCOUNT].[GLACCOUNTID] = [dbo].[CAFEE].[ARDEBITACCOUNTID]
    WHERE
	        [dbo].[CAFEE].[CAFEEID] = @CAFEEID

    EXEC [globalsetup].[USP_CAFEESETUP_GETBYPARENTID] @CAFEEID
	EXEC [globalsetup].[USP_CAFEEADJUSTABLECALC_GETBYPARENTID] @CAFEEID
    EXEC [globalsetup].[USP_CAMODULEFEEXREF_GETBYPARENTID] @CAFEEID
	EXEC [globalsetup].[USP_CAFEEGLACCOUNTXREF_GETBYPARENTID] @CAFEEID
	EXEC [globalsetup].[USP_CAFEETIMETRACKINGTYPEXREF_GETBYPARENTID] @CAFEEID
END