CREATE PROCEDURE [globalsetup].[USP_CUSTOMFIELDOBJECT_GETBYPARENTID]
(
	@FKGCUSTOMFIELDLAYOUT CHAR(36)
)
AS
BEGIN
SET NOCOUNT ON;
SELECT 
	[dbo].[CUSTOMFIELDOBJECT].[GCUSTOMFIELD],
	[dbo].[CUSTOMFIELDOBJECT].[FKGCUSTOMFIELDLAYOUT],
	[dbo].[CUSTOMFIELDOBJECT].[FKCUSTOMFIELDLAYOUTCONTROLTYPE],
	[dbo].[CUSTOMFIELDOBJECT].[SLABEL],
	[dbo].[CUSTOMFIELDOBJECT].[FLEFTPOS],
	[dbo].[CUSTOMFIELDOBJECT].[FTOPPOS],
	[dbo].[CUSTOMFIELDOBJECT].[FHEIGHT],
	[dbo].[CUSTOMFIELDOBJECT].[FWIDTH],
	[dbo].[CUSTOMFIELDOBJECT].[BISINTABCONTROL],
	[dbo].[CUSTOMFIELDOBJECT].[IPOSITION],
	[dbo].[CUSTOMFIELDOBJECT].[FKGPARENTCONTROL],
	[dbo].[CUSTOMFIELDOBJECT].[TABINDEX],
	[dbo].[CUSTOMFIELDOBJECT].[LABELDATA],
	[dbo].[CUSTOMFIELDOBJECT].[SDEFAULTVALUE],
	[dbo].[CUSTOMFIELDOBJECT].[SFIELDTIP],
	[dbo].[CUSTOMFIELDOBJECT].[BISREQUIRED],
	[dbo].[CUSTOMFIELDOBJECT].[FORMULA],
	[dbo].[CUSTOMFIELDOBJECT].[ISLABELSURPRESSED],
	[dbo].[CUSTOMFIELDOBJECT].[CUSTOMIMAGE],
	[dbo].[CUSTOMFIELDOBJECT].[HYPERLINKDATA],
	[dbo].[CUSTOMFIELDOBJECT].[COLUMNHEADERNAME],
	[dbo].[CUSTOMFIELDOBJECT].[SPANACROSSCOLUMN],
	[dbo].[CUSTOMFIELDOBJECT].[BFOOTER],
	[dbo].[CUSTOMFIELDOBJECT].[COLUMNWIDTHS],
	[dbo].[CUSTOMFIELD].[FKICUSTOMFIELDTYPE],
	[dbo].[CUSTOMFIELD].[SFIELDNAME],
	[dbo].[CUSTOMFIELD].[SCUSTOMFIELD],
	[dbo].[CUSTOMFIELD].[BISPICKLIST],
	[dbo].[CUSTOMFIELD].[BISWORKSHEET],
	[dbo].[CUSTOMFIELD].[FKGCUSTOMFIELDTEMPLATE],
	[dbo].[CUSTOMFIELD].[FKCUSTOMFIELDTABLE],
	[dbo].[CUSTOMFIELD].[FKCUSTOMFIELDTABLECOLREF],
	[dbo].[CUSTOMFIELD].[COLUMNOPERATOR],
	[dbo].[CUSTOMFIELDPICKLIST].[BALLOWMULTIPLESELECTIONS],
	[dbo].[CUSTOMFIELDPICKLIST].[GCUSTOMFIELDPICKLIST],
	[dbo].[CUSTOMFIELDTABLE].[NAME],
	[dbo].[CUSTOMFIELDTEMPLATE].[TEMPLATENAME],
	[dbo].[CUSTOMFIELDWORKSHEET].[GCUSTOMFIELDWORKSHEET],
	[dbo].[CUSTOMFIELDTABLE].[DEFAULTROWNUM],
	[dbo].[CUSTOMFIELDTABLE].[SHOWONMOBILE],
	[dbo].[CUSTOMFIELDOBJECT].[NUMBEROFCOLUMNS]
FROM [dbo].[CUSTOMFIELDOBJECT]
INNER JOIN [dbo].[CUSTOMFIELD] ON [dbo].[CUSTOMFIELD].[GCUSTOMFIELD] = [dbo].[CUSTOMFIELDOBJECT].[GCUSTOMFIELD]
LEFT OUTER JOIN [dbo].[CUSTOMFIELDPICKLIST] ON [dbo].[CUSTOMFIELDPICKLIST].[FKGCUSTOMFIELD] = [dbo].[CUSTOMFIELDOBJECT].[GCUSTOMFIELD]
LEFT OUTER JOIN [dbo].[CUSTOMFIELDWORKSHEET] ON [dbo].[CUSTOMFIELDWORKSHEET].[FKGCUSTOMFIELD] = [dbo].[CUSTOMFIELDOBJECT].[GCUSTOMFIELD]
LEFT OUTER JOIN [dbo].[CUSTOMFIELDTABLE] ON [dbo].[CUSTOMFIELDTABLE].[CUSTOMFIELDTABLEID] = [dbo].[CUSTOMFIELD].[FKCUSTOMFIELDTABLE]
LEFT OUTER JOIN [dbo].[CUSTOMFIELDTEMPLATE] ON [dbo].[CUSTOMFIELDTEMPLATE].[GCUSTOMFIELDTEMPLATE] = [dbo].[CUSTOMFIELD].[FKGCUSTOMFIELDTEMPLATE]
WHERE
	[dbo].[CUSTOMFIELDOBJECT].[FKGCUSTOMFIELDLAYOUT] = @FKGCUSTOMFIELDLAYOUT  
ORDER BY
	[dbo].[CUSTOMFIELD].[SCUSTOMFIELD]
END