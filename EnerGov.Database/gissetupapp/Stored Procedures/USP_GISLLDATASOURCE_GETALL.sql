CREATE PROCEDURE [gissetupapp].[USP_GISLLDATASOURCE_GETALL]
AS
BEGIN
	SET NOCOUNT ON;

	SELECT		[dbo].[GISLLDATASOURCE].[GISLLDATASOURCEID],
				[dbo].[GISLLDATASOURCE].[GISLLDATASOURCETYPE],
				[dbo].[GISLLDATASOURCE].[ARCGISENDPOINT],
				[dbo].[GISLLDATASOURCE].[SQLSERVERSOURCE],
				[dbo].[GISLLDATASOURCE].[SQLSERVERUSERNAME],
				[dbo].[GISLLDATASOURCE].[SQLSERVERPASSWORD],
				[dbo].[GISLLDATASOURCE].[SQLSERVERCATALOG],
				[dbo].[GISLLDATASOURCE].[SQLQUERY],
				[dbo].[GISLLDATASOURCE].[DATASET],
				[dbo].[GISLLDATASOURCE].[ARCGISLAYER],
				[dbo].[GISLLDATASOURCE].[SQLQUERYISPROCEDURE],
				[dbo].[GISLLDATASOURCE].[USELIKEFORGIS],
				[dbo].[GISLLDATASOURCE].[ISPARCELLAYER],
				[dbo].[GISLLDATASOURCE].[ISADDRESSLAYER],
				[dbo].[GISLLDATASOURCE].[LASTCHANGEDBY],
				[dbo].[GISLLDATASOURCE].[LASTCHANGEDON],
				[dbo].[GISLLDATASOURCE].[ROWVERSION]
	FROM		[dbo].[GISLLDATASOURCE]
	WHERE		(([dbo].[GISLLDATASOURCE].[ISPARCELLAYER] = 1
					AND [dbo].[GISLLDATASOURCE].[ISADDRESSLAYER] <> 1
					AND [dbo].[GISLLDATASOURCE].[ISADDRESSLAYER] IS NOT NULL)
				OR ([dbo].[GISLLDATASOURCE].[ISADDRESSLAYER] = 1
					AND [dbo].[GISLLDATASOURCE].[ISPARCELLAYER] <> 1
					AND [dbo].[GISLLDATASOURCE].[ISPARCELLAYER] IS NOT NULL))
				AND [dbo].[GISLLDATASOURCE].[GISLLDATASOURCETYPE] = (SELECT [dbo].[GISLLDATASOURCETYPE].[GISLLDATASOURCETYPEID]
						FROM [dbo].[GISLLDATASOURCETYPE] WHERE [dbo].[GISLLDATASOURCETYPE].[NAME] = 'ARC GIS Server')
	ORDER BY	[dbo].[GISLLDATASOURCE].[ISADDRESSLAYER] DESC

	EXEC [gissetupapp].[USP_GISLLMAPPING_GETALL]

	EXEC [gissetupapp].[USP_GISLLTRANSLATION_GETALL]
END