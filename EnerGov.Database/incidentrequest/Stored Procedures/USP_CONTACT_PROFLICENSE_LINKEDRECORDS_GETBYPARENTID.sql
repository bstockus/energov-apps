CREATE PROCEDURE [incidentrequest].[USP_CONTACT_PROFLICENSE_LINKEDRECORDS_GETBYPARENTID]
(
	@PARENTID CHAR(36)
)
AS
BEGIN
SET NOCOUNT ON;
SELECT 
	[ILLICENSE].[LICENSENUMBER],
	[ILLICENSETYPE].[NAME] LICENSETYPE,
	[ILLICENSECLASSIFICATION].[NAME] WORKCLASS,
	[ILLICENSESTATUS].[NAME] [STATUS],
	[ILLICENSESTATUSSYSTEM].[NAME] SYSTEMSTATUS
FROM [ILLICENSE]
INNER JOIN [ILLICENSECONTACT]
ON [ILLICENSECONTACT].[ILLICENSEID] = [ILLICENSE].[ILLICENSEID]
INNER JOIN [ILLICENSETYPE] WITH (NOLOCK)
ON [ILLICENSETYPE].[ILLICENSETYPEID] = [ILLICENSE].[ILLICENSETYPEID]
INNER JOIN [ILLICENSECLASSIFICATION] WITH (NOLOCK)
ON [ILLICENSECLASSIFICATION].[ILLICENSECLASSIFICATIONID] = [ILLICENSE].[ILLICENSECLASSIFICATIONID]
INNER JOIN [ILLICENSESTATUS] WITH (NOLOCK)
ON [ILLICENSESTATUS].[ILLICENSESTATUSID] = [ILLICENSE].[ILLICENSESTATUSID]
INNER JOIN [ILLICENSESTATUSSYSTEM]
ON [ILLICENSESTATUS].[ILLICENSESTATUSSYSTEMID] = [ILLICENSESTATUSSYSTEM].[ILLICENSESTATUSSYSTEMID]
WHERE
	[ILLICENSECONTACT].[GLOBALENTITYID] = @PARENTID
END