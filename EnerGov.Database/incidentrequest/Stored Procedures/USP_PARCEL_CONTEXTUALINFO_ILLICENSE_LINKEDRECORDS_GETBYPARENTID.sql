CREATE PROCEDURE [incidentrequest].[USP_PARCEL_CONTEXTUALINFO_ILLICENSE_LINKEDRECORDS_GETBYPARENTID] 
	@PARENTID char(36)
AS
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;
   
	SELECT DISTINCT			
			[ILLICENSE].[LICENSENUMBER],
			[ILLICENSETYPE].[NAME],
			[ILLICENSESTATUS].[NAME],
			[ILLICENSESTATUSSYSTEM].[NAME],
			[ILLICENSECLASSIFICATION].[NAME]								
	FROM [ILLICENSEPARCEL]	
	INNER JOIN [ILLICENSE] ON [ILLICENSE].[ILLICENSEID] = [ILLICENSEPARCEL].[ILLICENSEID]
	INNER JOIN [ILLICENSETYPE] ON [ILLICENSETYPE].[ILLICENSETYPEID] = [ILLICENSE].[ILLICENSETYPEID]	
	INNER JOIN [ILLICENSESTATUS] ON [ILLICENSESTATUS].[ILLICENSESTATUSID] = [ILLICENSE].[ILLICENSESTATUSID]
	INNER JOIN [ILLICENSESTATUSSYSTEM] ON [ILLICENSESTATUSSYSTEM].[ILLICENSESTATUSSYSTEMID] = [ILLICENSESTATUS].[ILLICENSESTATUSSYSTEMID]
	INNER JOIN [ILLICENSECLASSIFICATION] ON [ILLICENSECLASSIFICATION].[ILLICENSECLASSIFICATIONID] = [ILLICENSE].[ILLICENSECLASSIFICATIONID]
	WHERE 
		[ILLICENSEPARCEL].[PARCELID] = @PARENTID
END