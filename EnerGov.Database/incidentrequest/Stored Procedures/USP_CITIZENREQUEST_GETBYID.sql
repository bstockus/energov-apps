CREATE PROCEDURE [incidentrequest].[USP_CITIZENREQUEST_GETBYID] 
	@CITIZENREQUESTID char(36)
AS
BEGIN
	-- SET NOCOUNT ON added to prevent extra result sets from
	-- interfering with SELECT statements.
	SET NOCOUNT ON;
   
 SELECT 
	[CITIZENREQUEST].[CITIZENREQUESTID],
	[CITIZENREQUEST].[DESCRIPTION],	
	[CITIZENREQUEST].[DATEFILED],
	[CITIZENREQUEST].[COMPDEADLINE],
	[CITIZENREQUEST].[COMPCOMPLETE],
	[CITIZENREQUEST].[EMERGENCY],
	[CITIZENREQUESTSTATUS].[STATUS], 
	[CITIZENREQUESTSTATUS].[RESOLVEDFLAG], 
	[CITIZENREQUESTTYPE].[NAME], 
	[USERS].[FNAME] + ' ' + [USERS].[LNAME] ,
	[CITIZENREQUESTSOURCE].[NAME],	
	[CITIZENREQUESTPRIORITY].[NAME],
	[DISTRICT].NAME	
FROM  [dbo].[CITIZENREQUEST]
	LEFT JOIN CITIZENREQUESTSTATUS ON [CITIZENREQUEST].CITIZENREQUESTSTATUSID = [CITIZENREQUESTSTATUS].CITIZENREQUESTSTATUSID 
	LEFT JOIN CITIZENREQUESTTYPE ON [CITIZENREQUESTTYPE].CITIZENREQUESTTYPEID = [CITIZENREQUEST].CITIZENREQUESTTYPEID 
	LEFT JOIN USERS ON [USERS].SUSERGUID = [CITIZENREQUEST].ASSIGNEDTOUSER 
	LEFT JOIN CITIZENREQUESTSOURCE ON [CITIZENREQUESTSOURCE].CITIZENREQUESTSOURCEID = [CITIZENREQUEST].CITIZENREQUESTSOURCEID
	LEFT JOIN CITIZENREQUESTPRIORITY ON [CITIZENREQUESTPRIORITY].CITIZENREQUESTPRIORITYID = [CITIZENREQUEST].CITIZENREQUESTPRIORITYID
	LEFT JOIN DISTRICT ON [DISTRICT].DISTRICTID = [CITIZENREQUEST].DISTRICTID
WHERE 
    CITIZENREQUESTID = @CITIZENREQUESTID

EXEC [incidentrequest].USP_CITIZENREQUESTNOTE_GETBYPARENTID @CITIZENREQUESTID
EXEC [incidentrequest].USP_CITIZENREQUESTACTIVITY_GETBYPARENTID @CITIZENREQUESTID
EXEC [incidentrequest].USP_CITIZENREQUESTPARCEL_GETBYPARENTID @CITIZENREQUESTID
EXEC [incidentrequest].USP_CITIZENREQUESTADDRESS_GETBYPARENTID @CITIZENREQUESTID
EXEC [incidentrequest].USP_CITIZENREQUESTINSPECTION_GETBYPARENTID @CITIZENREQUESTID
EXEC [incidentrequest].USP_CITIZENREQUESTATTACHEDCASELIST_GETBYPARENTID @CITIZENREQUESTID
EXEC [incidentrequest].USP_CITIZENREQUESTCALLERXREF_GETBYPARENTID @CITIZENREQUESTID
EXEC [incidentrequest].[USP_CITIZENREQUESTPROJECT_GETBYPARENTID] @CITIZENREQUESTID

END