CREATE PROCEDURE [communitydevelopmentsetup].[USP_PLCONTACTTYPEREF_PLPLANTYPE_GETBYPARENTID]
(
	@PLPLANTYPEID CHAR(36)
)
AS
BEGIN
SELECT 
	[dbo].[PLCONTACTTYPEREF].[CONTACTTYPEEXTID],
	[dbo].[PLCONTACTTYPEREF].[LANDMANAGEMENTCONTACTTYPEID],
	[dbo].[PLCONTACTTYPEREF].[CONTACTTYPEGROUP],
	[dbo].[PLCONTACTTYPEREF].[ISREQUIRED],
	[dbo].[PLCONTACTTYPEREF].[OBJCLASSID],
	[dbo].[PLCONTACTTYPEREF].[OBJTYPEID],
	[dbo].[PLCONTACTTYPEREF].[OBJMODULEID],
	[dbo].[LANDMANAGEMENTCONTACTTYPE].[NAME],
	[dbo].[LANDMANAGEMENTCONTACTTYPE].[DESCRIPTION]
FROM [dbo].[PLCONTACTTYPEREF]
INNER JOIN [dbo].[PLPLANTYPEWORKCLASS]
	ON [dbo].[PLPLANTYPEWORKCLASS].[PLPLANTYPEWORKCLASSID] = [dbo].[PLCONTACTTYPEREF].[OBJTYPEID]
INNER JOIN [dbo].[LANDMANAGEMENTCONTACTTYPE] 
	ON [dbo].[LANDMANAGEMENTCONTACTTYPE].[LANDMANAGEMENTCONTACTTYPEID] = [dbo].[PLCONTACTTYPEREF].[LANDMANAGEMENTCONTACTTYPEID]
WHERE
	[dbo].[PLPLANTYPEWORKCLASS].[PLPLANTYPEID] = @PLPLANTYPEID
ORDER BY [dbo].[PLCONTACTTYPEREF].[OBJCLASSID], [dbo].[LANDMANAGEMENTCONTACTTYPE].[NAME]
END